<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TosTrip Cambodia - Your Gateway to Amazing Cambodia</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="front.css">
  <link rel="stylesheet" href="rent.css">
  <style>
    /* ========== AI CHATBOT STYLES ========== */
.chatbot-container {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 9999;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
}

.chatbot-trigger {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    color: white;
    border: none;
    cursor: pointer;
    box-shadow: 0 10px 30px rgba(37, 99, 235, 0.4);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 10px 30px rgba(37, 99, 235, 0.4);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 15px 40px rgba(37, 99, 235, 0.6);
    }
}

.chatbot-trigger:hover {
    transform: scale(1.1);
    box-shadow: 0 15px 40px rgba(37, 99, 235, 0.6);
}

.chatbot-window {
    display: none;
    width: 400px;
    height: 600px;
    background: white;
    border-radius: 16px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    overflow: hidden;
    flex-direction: column;
    animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.chatbot-window.active {
    display: flex;
}

.chatbot-header {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    color: white;
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.chatbot-header-info {
    display: flex;
    align-items: center;
    gap: 12px;
}

.chatbot-header-icon {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
}

.chatbot-header-text h3 {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 2px;
}

.chatbot-header-text p {
    font-size: 12px;
    opacity: 0.9;
}

.chatbot-close {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 18px;
    transition: background 0.2s;
}

.chatbot-close:hover {
    background: rgba(255, 255, 255, 0.3);
}

.quick-actions {
    background: #eff6ff;
    padding: 12px;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
    border-bottom: 1px solid #e5e7eb;
}

.quick-action-btn {
    background: white;
    border: 1px solid #e5e7eb;
    padding: 10px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    font-weight: 500;
    color: #374151;
}

.quick-action-btn:hover {
    background: #dbeafe;
    border-color: #93c5fd;
}

.quick-action-btn i {
    color: #2563eb;
    font-size: 14px;
}

.chatbot-messages {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    background: #f9fafb;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.chatbot-messages::-webkit-scrollbar {
    width: 6px;
}

.chatbot-messages::-webkit-scrollbar-track {
    background: #f1f1f1;
}

.chatbot-messages::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 3px;
}

.message {
    display: flex;
    animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.message.user {
    justify-content: flex-end;
}

.message.bot {
    justify-content: flex-start;
}

.message-content {
    max-width: 80%;
    padding: 12px 16px;
    border-radius: 16px;
    font-size: 14px;
    line-height: 1.6;
    white-space: pre-wrap;
    word-wrap: break-word;
}

.message.user .message-content {
    background: #2563eb;
    color: white;
    border-bottom-right-radius: 4px;
}

.message.bot .message-content {
    background: white;
    color: #1f2937;
    border-bottom-left-radius: 4px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    border: 1px solid #e5e7eb;
}

.message-header {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-bottom: 8px;
    font-size: 12px;
    font-weight: 600;
    color: #2563eb;
}

.message-time {
    font-size: 11px;
    opacity: 0.7;
    margin-top: 6px;
}

.typing-indicator {
    display: flex;
    gap: 4px;
    padding: 16px;
    background: white;
    border-radius: 16px;
    border-bottom-left-radius: 4px;
    width: fit-content;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    border: 1px solid #e5e7eb;
}

.typing-dot {
    width: 8px;
    height: 8px;
    background: #93c5fd;
    border-radius: 50%;
    animation: typing 1.4s infinite;
}

.typing-dot:nth-child(2) {
    animation-delay: 0.2s;
}

.typing-dot:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes typing {
    0%, 60%, 100% {
        transform: translateY(0);
        opacity: 0.7;
    }
    30% {
        transform: translateY(-10px);
        opacity: 1;
    }
}

.chatbot-input-area {
    padding: 16px;
    background: white;
    border-top: 1px solid #e5e7eb;
}

.chatbot-input-container {
    display: flex;
    gap: 8px;
    margin-bottom: 8px;
}
/* =========================
   LANGUAGE SWITCHER
   ========================= */


.chatbot-input {
    flex: 1;
    border: 1px solid #d1d5db;
    border-radius: 24px;
    padding: 12px 16px;
    font-size: 14px;
    outline: none;
    transition: all 0.2s;
}
/* Airport Intro Section */
.airport-intro {
    background: #ffffff;
    padding: 80px 20px;
}

.airport-content {
    max-width: 900px;
    margin: 0 auto;
}

.airport-welcome {
    font-size: 20px;
    font-style: italic;
    color: #6b7280;
}

.airport-content h2 {
    font-size: 48px;
    font-weight: 700;
    color: #d4b08c;
    margin: 10px 0 20px;
}

.airport-content p {
    font-size: 16px;
    line-height: 1.8;
    color: #374151;
    max-width: 800px;
}

.airport-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-top: 24px;
    font-weight: 600;
    color: #111827;
    text-decoration: none;
}

.airport-link span {
    background: #d4b08c;
    color: white;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
}

.chatbot-input:focus {
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.chatbot-send {
    width: 44px;
    height: 44px;
    background: #2563eb;
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.chatbot-send:hover:not(:disabled) {
    background: #1d4ed8;
    transform: scale(1.05);
}

.chatbot-send:disabled {
    background: #cbd5e1;
    cursor: not-allowed;
}
/* Tour Packages */
.tour-packages {
    padding: 80px 20px;
    background: #ffffff;
    position: relative;
}

.tour-packages::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
    background-size: 24px 24px;
    opacity: 0.35;
    pointer-events: none;
}

/* Header */
.tour-header {
    max-width: 1200px;
    margin: 0 auto 40px;
}

.tour-header h2 {
    font-size: 36px;
    font-weight: 700;
    color: #111827;
}

.tour-header p {
    color: #6b7280;
    margin-top: 8px;
}

/* Grid */
.tour-grid {
    max-width: 800px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 12px;
    justify-content: center;
    justify-items: center;
}

/* Card */
.tour-card {
    position: relative;
    width: 100%;
    max-width: 320px;
    aspect-ratio: 4 / 5;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 14px 32px rgba(0,0,0,0.14);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
    text-decoration: none;
}

/* Image */
.tour-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

/* Hover */
.tour-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 28px 56px rgba(0,0,0,0.22);
}

/* Overlay */
.tour-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: flex-end;
    padding: 16px;
    background: linear-gradient(
        to top,
        rgba(0,0,0,0.7),
        rgba(0,0,0,0.1),
        transparent
    );
}

.tour-overlay h3 {
    color: #ffffff;
    font-size: 20px;
    font-weight: 700;
    letter-spacing: 1px;
    text-align: left;
}

/* Footer text */
.emergency-notice {
    font-size: 11px;
    color: #6b7280;
    text-align: center;
}

@keyframes modalSlideIn {
    from {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}
/* =========================
   LANGUAGE SWITCHER (Scoped)
   ========================= */
.languages-wrapper {
    position: relative;
    display: inline-block;
    user-select: none;
}

/* Button */
.languages-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    background: white;
    border: 1px solid #e5e7eb;
    padding: 8px 14px;
    border-radius: 999px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    color: #374151;
    transition: all 0.25s ease;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.languages-btn i {
    font-size: 14px;
    color: #2563eb;
}

.languages-btn:hover {
    background: #eff6ff;
    border-color: #93c5fd;
}

/* Dropdown menu */
.languages-menu {
    position: absolute;
    top: calc(100% + 10px);
    right: 0;
    background: white;
    border-radius: 14px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    list-style: none;
    padding: 8px;
    min-width: 160px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-8px) scale(0.98);
    transition: all 0.25s ease;
    z-index: 1000;
}

/* Show menu */
.languages-menu.active {
    opacity: 1;
    visibility: visible;
    transform: translateY(0) scale(1);
}

/* Menu items */
.languages-menu li {
    padding: 10px 14px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    color: #374151;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
}

/* Hover & active */
.languages-menu li:hover {
    background: #2563eb;
    color: white;
}

/* Mobile friendly */
@media (max-width: 768px) {
    .languages-btn {
        padding: 6px 12px;
        font-size: 13px;
    }

    .languages-menu {
        min-width: 140px;
    }
}

@media (max-width: 480px) {
    .chatbot-window {
        width: calc(100vw - 32px);
        height: calc(100vh - 100px);
    }
}
/* =========================
   RESPONSIVE ENHANCEMENTS
   ========================= */

/* ---------- LARGE TABLETS (‚â§ 1024px) ---------- */
@media (max-width: 1024px) {

    .chatbot-window {
        width: 360px;
        height: 560px;
    }

    .airport-content h2 {
        font-size: 40px;
    }

    .tour-header h2 {
        font-size: 32px;
    }
}

/* ---------- TABLETS (‚â§ 768px) ---------- */
@media (max-width: 768px) {

    /* Chatbot positioning */
    .chatbot-container {
        bottom: 16px;
        right: 16px;
    }

    .chatbot-trigger {
        width: 56px;
        height: 56px;
        font-size: 24px;
    }

    .chatbot-window {
        width: calc(100vw - 32px);
        height: calc(100vh - 120px);
        border-radius: 14px;
    }

    /* Airport intro */
    .airport-intro {
        padding: 60px 16px;
    }

    .airport-welcome {
        font-size: 18px;
    }

    .airport-content h2 {
        font-size: 34px;
    }

    .airport-content p {
        font-size: 15px;
    }

    /* Tour packages */
    .tour-packages {
        padding: 60px 16px;
    }

    .tour-grid {
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    }
}

/* ---------- MOBILE PHONES (‚â§ 480px) ---------- */
@media (max-width: 480px) {

    /* Chatbot becomes app-like */
    .chatbot-container {
        bottom: 12px;
        right: 12px;
    }

    .chatbot-window {
        width: calc(100vw - 24px);
        height: calc(100vh - 90px);
        border-radius: 12px;
    }

    .chatbot-header {
        padding: 14px;
    }

    .chatbot-header-text h3 {
        font-size: 16px;
    }

    .chatbot-header-text p {
        font-size: 11px;
    }

    .quick-actions {
        grid-template-columns: 1fr;
    }

    .chatbot-messages {
        padding: 14px;
    }

    .message-content {
        font-size: 13px;
        max-width: 90%;
    }

    .chatbot-input-area {
        padding: 12px;
    }

    .chatbot-input {
        padding: 10px 14px;
        font-size: 13px;
    }

    .chatbot-send {
        width: 40px;
        height: 40px;
    }

    /* Airport intro mobile typography */
    .airport-content h2 {
        font-size: 28px;
    }

    .airport-content p {
        font-size: 14px;
        line-height: 1.7;
    }

    .airport-link {
        font-size: 14px;
    }

    /* Tour cards */
    .tour-header h2 {
        font-size: 26px;
    }

    .tour-card {
        max-width: 100%;
        aspect-ratio: 3 / 4;
    }

    .tour-overlay h3 {
        font-size: 18px;
    }
}

/* ---------- TOUCH DEVICE OPTIMIZATION ---------- */
@media (hover: none) {

    .chatbot-trigger:hover,
    .tour-card:hover {
        transform: none;
        box-shadow: none;
    }
}

  </style>
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="nav-container">
            <div class="logo">
                <span>TosTrip</span>
            </div>
        <nav>
  <ul class="nav-menu">
    <li>
      <a href="#home" class="nav-link" data-i18n="nav_home">Home</a>
    </li>

    <li>
      <a href="#destinations" class="nav-link" data-i18n="nav_destinations">Destinations</a>
    </li>
    <li>
      <a href="us.html" class="nav-link" data-i18n="nav_contact">
        Contact
      </a>
    </li>
  </ul>
</nav>

<div class="language-wrapper">
  <button class="languages-btn" id="currentLang" onclick="toggleLangMenu()">
    English <i class="fa fa-caret-down"></i>
  </button>

  <ul class="languages-menu" id="langMenu">
    <li onclick="setLanguage('en', 'English')">English</li>
    <li onclick="setLanguage('fr', 'Fran√ßais')">Fran√ßais</li>
    <li onclick="setLanguage('km', '·ûÅ·üí·ûò·üÇ·ûö')">·ûÅ·üí·ûò·üÇ·ûö</li>
  </ul>
</div>

        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
     <h1 data-i18n="hero_title">Cambodia at Your Fingertips</h1>
<p data-i18n="hero_subtitle">Travel Safer, Travel Smarter with TosTrip</p>

<a href="#packages" class="cta-btn primary">
    <span data-i18n="hero_explore">Explore Tours</span>
    <i class="fas fa-arrow-right"></i>
</a>

<a href="Offline.html" class="cta-btn secondary">
    <i class="fas fa-wifi"></i>
    <span data-i18n="hero_offline">Offline Mode</span>
</a>

            </div>
        </div>
    </section>
<!-- Techo International Airport Section -->
<section class="airport-intro">
    <div class="airport-content">
        <span class="airport-welcome" data-i18n="hero_offline">Welcome to</span>
        <h2>TosTrip</h2>
        <p data-i18n="about_text">
            Tostrip is a travel assistant platform that helps travelers live like a local. It allows users to spend a day experiencing authentic local life, discover hidden gems, and explore destinations safely and conveniently with offline access. With unique ‚ÄúRent a Friend‚Äù packages, travelers connect with locals for a truly immersive experience. Currently focused on Siem Reap, Tostrip turns every trip into an unforgettable local adventure.
        </p>

        <a href="us.html" class="airport-link" data-i18n="hero_explore">
            Discover Our Story <span>‚ûú</span>
        </a>
    </div>
</section>

<!-- Tour Packages Section -->
<section class="tour-packages" id="packages">
    <div class="tour-header">
        <h2>Tour Packages</h2>
        <p>Explore the best destinations with our flexible tour packages.</p>
    </div>

    <div class="tour-grid">
        <!-- Live Like a Local -->
        <a href="#" class="tour-card" onclick="showDestinationsLocal(event)">
            <img src="./imgg/local111.png" alt="Live Like A Local">
            <div class="tour-overlay">
                <h3>LIVE LIKE A LOCAL</h3>
            </div>
        </a>

        <!-- Rent a Friend -->
        <a href="#" class="tour-card" onclick="showRentAFriend(event)">
            <img src="./imgg/trip2.JPG" alt="Rent a Friend">
            <div class="tour-overlay">
                <h3>RENT A FRIEND</h3>
            </div>
        </a>
    </div>
</section>

<!-- Destinations Local Section (Hidden by default) -->
<div class="destinations-section" id="destinationslocal" style="display: none;">
    <div class="section-header">
        <div>
            <h2>Choose Your Destination</h2>
            <p>Select a city to explore local experiences</p>
        </div>
    </div>

    <div class="carousel-container">
        <div class="carousel-track">
            <a href="siemreap.html" class="destination-link">
                <div class="destination-card">
                    <img src="./imgg/pp2.JPG" alt="Siem Reap">
                    <div class="destination-overlay">
                        <h3>Siem Reap</h3>
                    </div>
                </div>
            </a>

            <div class="destination-card">
                <img src="./imgg/pic.JPG" alt="Phnom Penh">
                <div class="destination-overlay">
                    <h3>Phnom Penh</h3>
                </div>
            </div>

            <div class="destination-card">
                <img src="./imgg/trip3.JPG" alt="Kampot">
                <div class="destination-overlay">
                    <h3>Kampot</h3>
                </div>
            </div>

            <div class="destination-card locked">
                <img src="./imgg/koh.jpg" alt="Koh Rong">
                <div class="destination-overlay">
                    <h3>Koh Rong</h3>
                    <span class="coming-soon">COMING SOON</span>
                    <span class="lock-icon">üîí</span>
                </div>
            </div>

            <div class="destination-card locked">
                <img src="./imgg/kep.jpg" alt="Kep">
                <div class="destination-overlay">
                    <h3>Kep</h3>
                    <span class="coming-soon">COMING SOON</span>
                    <span class="lock-icon">üîí</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Rent a Friend Cards Section (Hidden by default) -->
<section class="rent-friends-section" id="rentFriendsSection" style="display: none; padding: 80px 20px; background: #f9fafb;">
    <div class="section-header" style="max-width: 1200px; margin: 0 auto 40px; text-align: center;">
        <h2 style="font-size: 36px; font-weight: 700; color: #111827; margin-bottom: 12px;">Rent a Friend</h2>
        <p style="color: #6b7280; font-size: 16px;">Connect with local guides who'll show you the real Cambodia</p>
    </div>

    <div class="friends-grid" style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 32px; padding: 0 20px;">
        
        <!-- Friend Card 1 -->
        <div class="friend-card" style="background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 8px 24px rgba(0,0,0,0.08); transition: all 0.4s ease; border: 1px solid #e5e7eb;">
            <div style="position: relative; overflow: hidden;">
                <img src="./imgg/tour.jpg" alt="Sokha" style="width: 100%; height: 280px; object-fit: cover; transition: transform 0.4s ease;">
                <div style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.95); padding: 8px 16px; border-radius: 20px; backdrop-filter: blur(10px); box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <span style="font-weight: 700; color: #2563eb; font-size: 16px;">$25</span>
                    <span style="color: #6b7280; font-size: 13px;">/half day</span>
                </div>
            </div>
            <div style="padding: 24px;">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                    <h3 style="font-size: 24px; font-weight: 700; color: #111827; margin: 0;">Sokha</h3>
                    <div style="display: flex; align-items: center; gap: 4px;">
                        <i class="fas fa-star" style="color: #fbbf24; font-size: 14px;"></i>
                        <span style="font-weight: 600; color: #111827; font-size: 14px;">4.9</span>
                    </div>
                </div>
                <p style="color: #6b7280; font-size: 14px; margin-bottom: 16px; display: flex; align-items: center; gap: 12px;">
                    <span><i class="fas fa-map-marker-alt" style="color: #2563eb;"></i> Phnom Penh</span>
                    <span><i class="fas fa-language" style="color: #2563eb;"></i> English, Khmer</span>
                </p>
                <p style="color: #374151; font-size: 14px; line-height: 1.7; margin-bottom: 20px; min-height: 60px;">Local foodie who knows all the best street food spots and hidden cafes in the city.</p>
                <div style="display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap;">
                    <span style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); color: #1e40af; padding: 6px 14px; border-radius: 20px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                        <i class="fas fa-utensils" style="font-size: 10px;"></i> Food Tours
                    </span>
                    <span style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); color: #1e40af; padding: 6px 14px; border-radius: 20px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                        <i class="fas fa-shopping-basket" style="font-size: 10px;"></i> Markets
                    </span>
                </div>
                <div style="background: #f9fafb; padding: 16px; border-radius: 12px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-size: 12px; color: #6b7280; margin-bottom: 4px;">Half Day (4 hours)</div>
                            <div style="font-weight: 700; color: #111827; font-size: 20px;">$25</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 12px; color: #6b7280; margin-bottom: 4px;">Full Day (8 hours)</div>
                            <div style="font-weight: 700; color: #111827; font-size: 20px;">$45</div>
                        </div>
                    </div>
                </div>
                <div style="display: flex; gap: 12px;">
                    <button onclick="openRentModal('Sokha', 25, 45)" style="flex: 1; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: white; border: none; padding: 14px 24px; border-radius: 12px; font-weight: 600; font-size: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3); display: flex; align-items: center; justify-content: center; gap: 8px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 20px rgba(37, 99, 235, 0.4)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(37, 99, 235, 0.3)';">
                        <i class="fas fa-calendar-check"></i> Book Now
                    </button>
                    <button onclick="openChatModal('Sokha')" style="background: white; color: #374151; border: 2px solid #e5e7eb; padding: 14px 20px; border-radius: 12px; cursor: pointer; font-size: 18px; transition: all 0.3s ease;" onmouseover="this.style.background='#f3f4f6'; this.style.borderColor='#d1d5db';" onmouseout="this.style.background='white'; this.style.borderColor='#e5e7eb';">
                        <i class="fas fa-comment-dots"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Friend Card 2 -->
        <div class="friend-card" style="background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 8px 24px rgba(0,0,0,0.08); transition: all 0.4s ease; border: 1px solid #e5e7eb;">
            <div style="position: relative; overflow: hidden;">
                <img src="./imgg/tour1.jpg" alt="Dara" style="width: 100%; height: 280px; object-fit: cover; transition: transform 0.4s ease;">
                <div style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.95); padding: 8px 16px; border-radius: 20px; backdrop-filter: blur(10px); box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <span style="font-weight: 700; color: #2563eb; font-size: 16px;">$30</span>
                    <span style="color: #6b7280; font-size: 13px;">/half day</span>
                </div>
            </div>
            <div style="padding: 24px;">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                    <h3 style="font-size: 24px; font-weight: 700; color: #111827; margin: 0;">Dara</h3>
                    <div style="display: flex; align-items: center; gap: 4px;">
                        <i class="fas fa-star" style="color: #fbbf24; font-size: 14px;"></i>
                        <span style="font-weight: 600; color: #111827; font-size: 14px;">5.0</span>
                    </div>
                </div>
                <p style="color: #6b7280; font-size: 14px; margin-bottom: 16px; display: flex; align-items: center; gap: 12px;">
                    <span><i class="fas fa-map-marker-alt" style="color: #2563eb;"></i> Siem Reap</span>
                    <span><i class="fas fa-language" style="color: #2563eb;"></i> EN, FR, KH</span>
                </p>
                <p style="color: #374151; font-size: 14px; line-height: 1.7; margin-bottom: 20px; min-height: 60px;">History buff and temple expert who can share stories beyond the guidebooks.</p>
                <div style="display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap;">
                    <span style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); color: #1e40af; padding: 6px 14px; border-radius: 20px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                        <i class="fas fa-gopuram" style="font-size: 10px;"></i> Temples
                    </span>
                    <span style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); color: #1e40af; padding: 6px 14px; border-radius: 20px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                        <i class="fas fa-book" style="font-size: 10px;"></i> History
                    </span>
                </div>
                <div style="background: #f9fafb; padding: 16px; border-radius: 12px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-size: 12px; color: #6b7280; margin-bottom: 4px;">Half Day (4 hours)</div>
                            <div style="font-weight: 700; color: #111827; font-size: 20px;">$30</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 12px; color: #6b7280; margin-bottom: 4px;">Full Day (8 hours)</div>
                            <div style="font-weight: 700; color: #111827; font-size: 20px;">$50</div>
                        </div>
                    </div>
                </div>
                <div style="display: flex; gap: 12px;">
                    <button onclick="openRentModal('Dara', 30, 50)" style="flex: 1; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: white; border: none; padding: 14px 24px; border-radius: 12px; font-weight: 600; font-size: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3); display: flex; align-items: center; justify-content: center; gap: 8px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 20px rgba(37, 99, 235, 0.4)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(37, 99, 235, 0.3)';">
                        <i class="fas fa-calendar-check"></i> Book Now
                    </button>
                    <button onclick="openChatModal('Dara')" style="background: white; color: #374151; border: 2px solid #e5e7eb; padding: 14px 20px; border-radius: 12px; cursor: pointer; font-size: 18px; transition: all 0.3s ease;" onmouseover="this.style.background='#f3f4f6'; this.style.borderColor='#d1d5db';" onmouseout="this.style.background='white'; this.style.borderColor='#e5e7eb';">
                        <i class="fas fa-comment-dots"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Friend Card 3 -->
        <div class="friend-card" style="background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 8px 24px rgba(0,0,0,0.08); transition: all 0.4s ease; border: 1px solid #e5e7eb;">
            <div style="position: relative; overflow: hidden;">
                <img src="./imgg/tour2.jpg" alt="Virak" style="width: 100%; height: 280px; object-fit: cover; transition: transform 0.4s ease;">
                <div style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.95); padding: 8px 16px; border-radius: 20px; backdrop-filter: blur(10px); box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <span style="font-weight: 700; color: #2563eb; font-size: 16px;">$28</span>
                    <span style="color: #6b7280; font-size: 13px;">/half day</span>
                </div>
            </div>
            <div style="padding: 24px;">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                    <h3 style="font-size: 24px; font-weight: 700; color: #111827; margin: 0;">Virak</h3>
                    <div style="display: flex; align-items: center; gap: 4px;">
                        <i class="fas fa-star" style="color: #fbbf24; font-size: 14px;"></i>
                        <span style="font-weight: 600; color: #111827; font-size: 14px;">4.8</span>
                    </div>
                </div>
                <p style="color: #6b7280; font-size: 14px; margin-bottom: 16px; display: flex; align-items: center; gap: 12px;">
                    <span><i class="fas fa-map-marker-alt" style="color: #2563eb;"></i> Kampot</span>
                    <span><i class="fas fa-language" style="color: #2563eb;"></i> English, Khmer</span>
                </p>
                <p style="color: #374151; font-size: 14px; line-height: 1.7; margin-bottom: 20px; min-height: 60px;">Adventure enthusiast who loves kayaking, cycling, and exploring the countryside.</p>
                <div style="display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap;">
                    <span style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); color: #1e40af; padding: 6px 14px; border-radius: 20px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                        <i class="fas fa-hiking" style="font-size: 10px;"></i> Adventure
                    </span>
                    <span style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); color: #1e40af; padding: 6px 14px; border-radius: 20px; font-size: 12px; font-weight: 600; display: inline-flex; align-items: center; gap: 6px;">
                        <i class="fas fa-leaf" style="font-size: 10px;"></i> Nature
                    </span>
                </div>
                <div style="background: #f9fafb; padding: 16px; border-radius: 12px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-size: 12px; color: #6b7280; margin-bottom: 4px;">Half Day (4 hours)</div>
                            <div style="font-weight: 700; color: #111827; font-size: 20px;">$28</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 12px; color: #6b7280; margin-bottom: 4px;">Full Day (8 hours)</div>
                            <div style="font-weight: 700; color: #111827; font-size: 20px;">$48</div>
                        </div>
                    </div>
                </div>
                <div style="display: flex; gap: 12px;">
                    <button onclick="openRentModal('Virak', 28, 48)" style="flex: 1; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: white; border: none; padding: 14px 24px; border-radius: 12px; font-weight: 600; font-size: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3); display: flex; align-items: center; justify-content: center; gap: 8px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 20px rgba(37, 99, 235, 0.4)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(37, 99, 235, 0.3)';">
                        <i class="fas fa-calendar-check"></i> Book Now
                    </button>
                    <button onclick="openChatModal('Virak')" style="background: white; color: #374151; border: 2px solid #e5e7eb; padding: 14px 20px; border-radius: 12px; cursor: pointer; font-size: 18px; transition: all 0.3s ease;" onmouseover="this.style.background='#f3f4f6'; this.style.borderColor='#d1d5db';" onmouseout="this.style.background='white'; this.style.borderColor='#e5e7eb';">
                        <i class="fas fa-comment-dots"></i>
                    </button>
                </div>
            </div>
        </div>

    </div>
</section>

<!-- ‚úÖ‚úÖ‚úÖ FIXED: Chat Modal with Form -->
<div class="modal" id="chatModal" style="display: none; position: fixed; inset: 0; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(4px); z-index: 10000; align-items: center; justify-content: center; padding: 20px;">
    <div class="modal-content" style="background: white; border-radius: 24px; max-width: 550px; width: 100%; max-height: 90vh; overflow-y: auto; box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3); animation: modalSlideIn 0.3s ease-out;">
        <div class="modal-header" style="background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: white; padding: 32px; border-radius: 24px 24px 0 0; position: relative;">
            <h2 class="modal-title" style="font-size: 28px; font-weight: 700; margin: 0; display: flex; align-items: center; gap: 12px;">
                <i class="fas fa-comment-dots" style="font-size: 24px;"></i>
                Chat with <span id="chatFriendName" style="color: #fbbf24;"></span>
            </h2>
            <p style="margin: 8px 0 0 0; opacity: 0.9; font-size: 14px;">Send a message to ask questions or share your interests</p>
            <button class="close-btn" onclick="closeModal('chatModal')" type="button" style="position: absolute; top: 24px; right: 24px; background: rgba(255, 255, 255, 0.2); border: none; color: white; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 20px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" onmouseover="this.style.background='rgba(255, 255, 255, 0.3)'; this.style.transform='rotate(90deg)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.2)'; this.style.transform='rotate(0deg)';">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <!-- ‚úÖ WRAPPED IN FORM -->
        <form id="chatForm" onsubmit="sendChatMessage(event); return false;" style="padding: 32px;">
            <div class="form-group" style="margin-bottom: 24px;">
                <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
                    <i class="fas fa-user" style="color: #2563eb; font-size: 16px;"></i>
                    Your Name <span style="color: #ef4444;">*</span>
                </label>
                <input type="text" id="chatName" placeholder="Enter your name" required style="width: 100%; padding: 14px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 15px; transition: all 0.2s; outline: none;" onfocus="this.style.borderColor='#2563eb'; this.style.boxShadow='0 0 0 3px rgba(37, 99, 235, 0.1)';" onblur="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none';">
            </div>
            
            <div class="form-group" style="margin-bottom: 24px;">
                <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
                    <i class="fas fa-envelope" style="color: #2563eb; font-size: 16px;"></i>
                    Your Email <span style="color: #ef4444;">*</span>
                </label>
                <input type="email" id="chatEmail" placeholder="your@email.com" required style="width: 100%; padding: 14px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 15px; transition: all 0.2s; outline: none;" onfocus="this.style.borderColor='#2563eb'; this.style.boxShadow='0 0 0 3px rgba(37, 99, 235, 0.1)';" onblur="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none';">
            </div>
            
            <div class="form-group" style="margin-bottom: 28px;">
                <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
                    <i class="fas fa-pen" style="color: #2563eb; font-size: 16px;"></i>
                    Your Message <span style="color: #ef4444;">*</span>
                </label>
                <textarea id="chatMessage" rows="6" placeholder="Ask about availability, activities, or share what you're looking for..." required style="width: 100%; padding: 14px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 15px; transition: all 0.2s; outline: none; resize: vertical; font-family: inherit;" onfocus="this.style.borderColor='#2563eb'; this.style.boxShadow='0 0 0 3px rgba(37, 99, 235, 0.1)';" onblur="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none';"></textarea>
            </div>
            
            <!-- ‚úÖ Changed to type="submit" -->
            <button type="submit" class="btn-submit" style="width: 100%; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: white; border: none; padding: 16px 32px; border-radius: 12px; font-weight: 700; font-size: 16px; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3); display: flex; align-items: center; justify-content: center; gap: 10px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 20px rgba(37, 99, 235, 0.4)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(37, 99, 235, 0.3)';">
                <i class="fas fa-paper-plane"></i>
                Send Message
            </button>
        </form>
    </div>
</div>

<!-- ‚úÖ‚úÖ‚úÖ FIXED: Rent Modal with Form -->
<div class="modal" id="rentModal" style="display: none; position: fixed; inset: 0; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(4px); z-index: 10000; align-items: center; justify-content: center; padding: 20px;">
    <div class="modal-content" style="background: white; border-radius: 24px; max-width: 600px; width: 100%; max-height: 90vh; overflow-y: auto; box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3); animation: modalSlideIn 0.3s ease-out;">
        <div class="modal-header" style="background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: white; padding: 32px; border-radius: 24px 24px 0 0; position: relative;">
            <h2 class="modal-title" style="font-size: 28px; font-weight: 700; margin: 0; display: flex; align-items: center; gap: 12px;">
                <i class="fas fa-user-friends" style="font-size: 24px;"></i>
                Book <span id="rentFriendName" style="color: #fbbf24;"></span>
            </h2>
            <p style="margin: 8px 0 0 0; opacity: 0.9; font-size: 14px;">Fill in the details below to confirm your booking</p>
            <button class="close-btn" onclick="closeModal('rentModal')" type="button" style="position: absolute; top: 24px; right: 24px; background: rgba(255, 255, 255, 0.2); border: none; color: white; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 20px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" onmouseover="this.style.background='rgba(255, 255, 255, 0.3)'; this.style.transform='rotate(90deg)';" onmouseout="this.style.background='rgba(255, 255, 255, 0.2)'; this.style.transform='rotate(0deg)';">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <!-- ‚úÖ WRAPPED IN FORM -->
        <form id="rentBookingForm" onsubmit="bookFriend(event); return false;" style="padding: 32px;">
            <div class="form-group" style="margin-bottom: 24px;">
                <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
                    <i class="fas fa-user" style="color: #2563eb; font-size: 16px;"></i>
                    Your Name <span style="color: #ef4444;">*</span>
                </label>
                <input type="text" id="bookingName" placeholder="Enter your full name" required style="width: 100%; padding: 14px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 15px; transition: all 0.2s; outline: none;" onfocus="this.style.borderColor='#2563eb'; this.style.boxShadow='0 0 0 3px rgba(37, 99, 235, 0.1)';" onblur="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none';">
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px;">
                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
                        <i class="fas fa-envelope" style="color: #2563eb; font-size: 16px;"></i>
                        Email <span style="color: #ef4444;">*</span>
                    </label>
                    <input type="email" id="bookingEmail" placeholder="your@email.com" required style="width: 100%; padding: 14px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 15px; transition: all 0.2s; outline: none;" onfocus="this.style.borderColor='#2563eb'; this.style.boxShadow='0 0 0 3px rgba(37, 99, 235, 0.1)';" onblur="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none';">
                </div>
                
                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
                        <i class="fas fa-phone" style="color: #2563eb; font-size: 16px;"></i>
                        Phone Number <span style="color: #ef4444;">*</span>
                    </label>
                    <input type="tel" id="bookingPhone" placeholder="+855 12 345 678" required style="width: 100%; padding: 14px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 15px; transition: all 0.2s; outline: none;" onfocus="this.style.borderColor='#2563eb'; this.style.boxShadow='0 0 0 3px rgba(37, 99, 235, 0.1)';" onblur="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none';">
                </div>
            </div>
            
            <div class="form-group" style="margin-bottom: 24px;">
                <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
                    <i class="fas fa-calendar-alt" style="color: #2563eb; font-size: 16px;"></i>
                    Date <span style="color: #ef4444;">*</span>
                </label>
                <input type="date" id="bookingDate" required style="width: 100%; padding: 14px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 15px; transition: all 0.2s; outline: none;" onfocus="this.style.borderColor='#2563eb'; this.style.boxShadow='0 0 0 3px rgba(37, 99, 235, 0.1)';" onblur="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none';">
            </div>
            
            <div class="form-group" style="margin-bottom: 24px;">
                <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
                    <i class="fas fa-clock" style="color: #2563eb; font-size: 16px;"></i>
                    Duration <span style="color: #ef4444;">*</span>
                </label>
                <select id="durationSelect" required style="width: 100%; padding: 14px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 15px; transition: all 0.2s; outline: none; background: white; cursor: pointer;" onfocus="this.style.borderColor='#2563eb'; this.style.boxShadow='0 0 0 3px rgba(37, 99, 235, 0.1)';" onblur="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none';">
                    <option value="half">Half Day (4 hours) - $<span class="half-price"></span></option>
                    <option value="full">Full Day (8 hours) - $<span class="full-price"></span></option>
                </select>
            </div>
            
            <div class="form-group" style="margin-bottom: 32px;">
                <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
                    <i class="fas fa-list-ul" style="color: #2563eb; font-size: 16px;"></i>
                    Preferred Activities <span style="color: #6b7280; font-weight: 400; font-size: 13px;">(Optional)</span>
                </label>
                <textarea id="bookingActivities" rows="4" placeholder="Tell us about your interests or any specific places you'd like to visit..." style="width: 100%; padding: 14px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 15px; transition: all 0.2s; outline: none; resize: vertical; font-family: inherit;" onfocus="this.style.borderColor='#2563eb'; this.style.boxShadow='0 0 0 3px rgba(37, 99, 235, 0.1)';" onblur="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none';"></textarea>
            </div>
            
            <div style="background: #f0f9ff; border: 2px solid #bfdbfe; border-radius: 12px; padding: 16px; margin-bottom: 24px;">
                <div style="display: flex; align-items: start; gap: 12px;">
                    <i class="fas fa-info-circle" style="color: #2563eb; font-size: 20px; margin-top: 2px;"></i>
                    <div>
                        <p style="margin: 0; color: #1e40af; font-size: 13px; line-height: 1.6;">
                            <strong>Cancellation Policy:</strong> Free cancellation up to 24 hours before the booking. Full refund guaranteed.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- ‚úÖ Changed to type="submit" -->
            <button type="submit" class="btn-submit" style="width: 100%; background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: white; border: none; padding: 16px 32px; border-radius: 12px; font-weight: 700; font-size: 16px; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3); display: flex; align-items: center; justify-content: center; gap: 10px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 20px rgba(37, 99, 235, 0.4)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(37, 99, 235, 0.3)';">
                <i class="fas fa-check-circle"></i>
                Confirm Booking
            </button>
        </form>
    </div>
</div>

     <!-- Destinations Section -->
    <div class="destinations-section" id="destinations">
        <div class="section-header">
            <div>
                <h2>Live like a local</h2>
                <p>Go beyond sightseeing. Discover destinations worth settling into.</p>
            </div>
            <button class="view-more-btn">View More</button>
        </div>

        <div class="carousel-container">
            <div class="carousel-track">
               <a href="siemreap.html" class="destination-link">
    <div class="destination-card">
        <img src="./imgg/pp2.JPG" alt="Siem Reap">
        <div class="destination-overlay">
            <h3>Siem Reap</h3>
        </div>
    </div>
</a>

                <div class="destination-card">
                    <img src="./imgg/pic.JPG" alt="Phnom Penh">
                    <div class="destination-overlay">
                        <h3>Phnom Penh</h3>
                    </div>
                </div>
                <div class="destination-card">
                    <img src="./imgg/trip3.JPG" alt="Kampot">
                    <div class="destination-overlay">
                        <h3>Kampot</h3>
                    </div>
                </div>
             <div class="destination-card locked">
    <img src="./imgg/koh.jpg" alt="Koh Rong">
    <div class="destination-overlay">
        <h3>Koh Rong</h3>
        <span class="coming-soon">COMING SOON</span>
        <span class="lock-icon">üîí</span>
    </div>
</div>

<div class="destination-card locked">
    <img src="./imgg/kep.jpg" alt="Kep">
    <div class="destination-overlay">
        <h3>Kep</h3>
        <span class="coming-soon">COMING SOON</span>
        <span class="lock-icon">üîí</span>
    </div>
</div>

            </div>
        </div>
    </div>



    <!-- Footer -->
    <footer id="contact" class="footer">
     
        <div class="footer-bottom">
            <p>&copy; 2024 TosTrip Cambodia. All rights reserved.</p>
        </div>
    </footer>

    <!-- AI Chatbot -->
<div class="chatbot-container">
    <!-- Trigger Button -->
    <button class="chatbot-trigger" id="chatbot-trigger" onclick="toggleChatbot()">
        <i class="fas fa-robot"></i>
    </button>

    <!-- Chatbot Window -->
    <div class="chatbot-window" id="chatbot-window">
        <!-- Header -->
        <div class="chatbot-header">
            <div class="chatbot-header-info">
                <div class="chatbot-header-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="chatbot-header-text">
                    <h3>TosTrip Assistant</h3>
                    <p>Always here to help</p>
                </div>
            </div>
            <button class="chatbot-close" onclick="toggleChatbot()">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <button class="quick-action-btn" onclick="quickAction('emergency')">
                <i class="fas fa-exclamation-triangle"></i>
                <span>Emergency Help</span>
            </button>
            <button class="quick-action-btn" onclick="quickAction('destinations')">
                <i class="fas fa-map-marker-alt"></i>
                <span>Destinations</span>
            </button>
            <button class="quick-action-btn" onclick="quickAction('packages')">
                <i class="fas fa-box"></i>
                <span>Tour Packages</span>
            </button>
            <button class="quick-action-btn" onclick="quickAction('contact')">
                <i class="fas fa-phone"></i>
                <span>Contact Info</span>
            </button>
        </div>

        <!-- Messages -->
        <div class="chatbot-messages" id="chatbot-messages">
            <div class="message bot">
                <div class="message-content">
                    <div class="message-header">
                        <i class="fas fa-robot"></i>
                        <span>AI Assistant</span>
                    </div>
                    <div>üëã Hello! I'm your TosTrip AI assistant. I can help you with:

üö® <strong>Emergency Assistance</strong> - Medical, police, safety info
üéØ <strong>Travel Recommendations</strong> - Tours, destinations, activities
üìç <strong>Local Information</strong> - Transportation, food, culture

How can I help you today?</div>
                    <div class="message-time" id="init-time"></div>
                </div>
            </div>
        </div>

        <!-- Input Area -->
        <div class="chatbot-input-area">
            <div class="chatbot-input-container">
                <input 
                    type="text" 
                    class="chatbot-input" 
                    id="chatbot-input" 
                    placeholder="Ask about emergencies or travel tips..."
                    onkeypress="handleKeyPress(event)"
                >
                <button class="chatbot-send" id="chatbot-send" onclick="sendMessage()">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            <div class="emergency-notice">
                üö® For real emergencies, call 119 (Ambulance) or 117 (Police)
            </div>
        </div>
    </div>
</div>
<script src="translator.js"></script>
<script src="chatbot.js"></script>
<!-- EmailJS SDK -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<script>
  // ========================================
  // ‚úÖ‚úÖ‚úÖ FIXED: EmailJS Configuration
  // ========================================
  const EMAILJS_PUBLIC_KEY = 'SmoLQAp-ij_aoJbAd';
  const EMAILJS_SERVICE_ID = 'service_9ogox5a';
  const EMAILJS_BOOKING_TEMPLATE_ID = 'template_0pi47tp';

  // Initialize EmailJS
  (function () {
      emailjs.init(EMAILJS_PUBLIC_KEY);
      console.log('‚úÖ EmailJS initialized successfully');
  })();

  // =======================
  // Section Toggles
  // =======================
  function showDestinationsLocal(event) {
      event.preventDefault();
      const section = document.getElementById('destinationslocal');
      const rentSection = document.getElementById('rentFriendsSection');
      if (rentSection) rentSection.style.display = 'none';
      if (section) { 
          section.style.display = 'block'; 
          section.scrollIntoView({ behavior: 'smooth' }); 
      }
  }

  function showRentAFriend(event) {
      event.preventDefault();
      const section = document.getElementById('rentFriendsSection');
      const destSection = document.getElementById('destinationslocal');
      if (destSection) destSection.style.display = 'none';
      if (section) { 
          section.style.display = 'block'; 
          section.scrollIntoView({ behavior: 'smooth' }); 
      }
  }

  // =======================
  // Modal Functions
  // =======================
  let currentFriendData = {};

  function openRentModal(name, halfPrice, fullPrice) {
      currentFriendData = { name, halfPrice, fullPrice };
      document.getElementById('rentFriendName').textContent = name;
      
      // Update prices in the select dropdown
      const selectElement = document.getElementById('durationSelect');
      selectElement.innerHTML = `
          <option value="half">Half Day (4 hours) - $${halfPrice}</option>
          <option value="full">Full Day (8 hours) - $${fullPrice}</option>
      `;
      
      document.getElementById('rentModal').style.display = 'flex';
  }

  function openChatModal(name) {
      document.getElementById('chatFriendName').textContent = name;
      document.getElementById('chatModal').style.display = 'flex';
  }

  function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
      // Reset forms when closing
      if (modalId === 'rentModal') {
          document.getElementById('rentBookingForm').reset();
      } else if (modalId === 'chatModal') {
          document.getElementById('chatForm').reset();
      }
  }

  // ========================================
  // ‚úÖ‚úÖ‚úÖ FIXED: Booking Form Handler
  // ========================================
  function bookFriend(event) {
      event.preventDefault();
      console.log('üìù Booking form submitted');

      const name = document.getElementById('bookingName').value.trim();
      const email = document.getElementById('bookingEmail').value.trim();
      const phone = document.getElementById('bookingPhone').value.trim();
      const date = document.getElementById('bookingDate').value;
      const duration = document.getElementById('durationSelect').value;
      const activities = document.getElementById('bookingActivities').value.trim();

      // Validation
      if (!name || !email || !phone || !date) {
          alert('‚ùå Please fill in all required fields.');
          return;
      }
      
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
          alert('‚ùå Please enter a valid email address.');
          return;
      }

      const durationText = duration === 'half'
          ? `Half Day (4 hours) - $${currentFriendData.halfPrice}`
          : `Full Day (8 hours) - $${currentFriendData.fullPrice}`;
      const price = duration === 'half' ? currentFriendData.halfPrice : currentFriendData.fullPrice;

      const templateParams = {
          user_name: name,
          user_email: email,
          request_type: 'Booking Request',
          message: activities || 'No specific activities mentioned',
          friend_name: currentFriendData.name || 'Not selected',
          booking_date: date,
          duration: durationText,
          price: price,
          phone: phone
      };

      console.log('üì§ Sending booking with params:', templateParams);

      const submitBtn = document.querySelector('#rentBookingForm button[type="submit"]');
      const originalText = submitBtn.innerHTML;
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
      submitBtn.disabled = true;

      emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_BOOKING_TEMPLATE_ID, templateParams)
          .then((response) => {
              console.log('‚úÖ EmailJS SUCCESS:', response);
              // Redirect to thank you page on success
              window.location.href = 'thankyou.html';
          })
          .catch(error => {
              console.error('‚ùå EmailJS Error:', error);
              alert('‚ùå Failed to send booking request. Error: ' + (error.text || error.message || 'Unknown error'));
              submitBtn.innerHTML = originalText;
              submitBtn.disabled = false;
          });
  }

  // ========================================
  // ‚úÖ‚úÖ‚úÖ NEW: Chat Message Handler
  // ========================================
  function sendChatMessage(event) {
      event.preventDefault();
      console.log('üí¨ Chat form submitted');

      const name = document.getElementById('chatName').value.trim();
      const email = document.getElementById('chatEmail').value.trim();
      const message = document.getElementById('chatMessage').value.trim();
      const friendName = document.getElementById('chatFriendName').textContent;

      if (!name || !email || !message) {
          alert('‚ùå Please fill in all fields.');
          return;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
          alert('‚ùå Please enter a valid email address.');
          return;
      }

      const templateParams = {
          user_name: name,
          user_email: email,
          request_type: 'Chat Message',
          message: message,
          friend_name: friendName,
          booking_date: 'N/A',
          duration: 'N/A',
          price: 'N/A',
          phone: 'N/A'
      };

      console.log('üì§ Sending chat message with params:', templateParams);

      const submitBtn = document.querySelector('#chatForm button[type="submit"]');
      const originalText = submitBtn.innerHTML;
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
      submitBtn.disabled = true;

      emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_BOOKING_TEMPLATE_ID, templateParams)
          .then((response) => {
              console.log('‚úÖ EmailJS SUCCESS:', response);
              // Redirect to thank you page on success
              window.location.href = 'thankyou.html';
          })
          .catch(error => {
              console.error('‚ùå EmailJS Error:', error);
              alert('‚ùå Failed to send message. Error: ' + (error.text || error.message || 'Unknown error'));
              submitBtn.innerHTML = originalText;
              submitBtn.disabled = false;
          });
  }

  // =======================
  // Close modals on outside click
  // =======================
  window.onclick = function(event) {
      const rentModal = document.getElementById('rentModal');
      const chatModal = document.getElementById('chatModal');
      
      if (event.target === rentModal) {
          closeModal('rentModal');
      } else if (event.target === chatModal) {
          closeModal('chatModal');
      }
  }

  // =======================
  // Page Load
  // =======================
  document.addEventListener('DOMContentLoaded', () => {
      console.log('üöÄ Page loaded. EmailJS ready to use.');
      console.log('üìß Service ID:', EMAILJS_SERVICE_ID);
      console.log('üìß Template ID:', EMAILJS_BOOKING_TEMPLATE_ID);
      
      // Set minimum date to today
      const today = new Date().toISOString().split('T')[0];
      const dateInput = document.getElementById('bookingDate');
      if (dateInput) {
          dateInput.setAttribute('min', today);
      }
  });
</script>

</body>
</html>
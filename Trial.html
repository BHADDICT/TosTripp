<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Tourism Companion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.3; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.8; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%); }
            100% { transform: translateX(100%) translateY(100%); }
        }

        h1 {
            color: white;
            margin-bottom: 10px;
            font-size: 3em;
            font-weight: 700;
            text-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.3em;
            font-weight: 300;
            position: relative;
            z-index: 1;
        }

        .quick-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .quick-btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            font-size: 0.9em;
            box-shadow: 0 5px 15px rgba(238, 90, 82, 0.4);
        }

        .quick-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(238, 90, 82, 0.6);
        }

        .status-bar {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .location-info {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            color: white;
            font-size: 1.1em;
        }

        .status-indicators {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .indicator {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .offline-indicator {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            animation: pulse 2s infinite;
        }

        .weather-indicator {
            background: linear-gradient(135deg, #3498db, #74b9ff);
            color: white;
        }

        .battery-indicator {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 25px;
            padding: 8px;
            margin-bottom: 25px;
            overflow-x: auto;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .tab-button {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: none;
            cursor: pointer;
            border-radius: 18px;
            transition: all 0.3s ease;
            font-weight: bold;
            min-width: 120px;
            color: rgba(255, 255, 255, 0.8);
            position: relative;
            overflow: hidden;
        }

        .tab-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .tab-button:hover::before {
            left: 100%;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
            transform: translateY(-2px);
        }

        .tab-content {
            display: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 30px;
            backdrop-filter: blur(20px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .tab-content.active {
            display: block;
        }

        .interactive-map {
            position: relative;
            background: linear-gradient(135deg, #2c3e50, #34495e);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            margin-bottom: 25px;
            min-height: 400px;
            border: 3px solid rgba(52, 152, 219, 0.3);
            overflow: hidden;
        }

        .interactive-map::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(52, 152, 219, 0.1), transparent);
            animation: scan 4s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .map-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .control-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.6);
        }

        .location-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .location-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }

        .location-content {
            position: relative;
            z-index: 1;
        }

        .coordinates {
            font-family: 'Courier New', monospace;
            font-size: 1.3em;
            font-weight: bold;
            margin: 15px 0;
            color: #2c3e50;
            background: linear-gradient(135deg, #ecf0f1, #bdc3c7);
            padding: 15px;
            border-radius: 15px;
            border-left: 5px solid #3498db;
        }

        .nearby-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .place-card {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(116, 185, 255, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .place-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .place-card:hover::before {
            transform: translateX(100%);
        }

        .place-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(116, 185, 255, 0.6);
        }

        .place-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .place-icon {
            font-size: 2em;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px;
            border-radius: 15px;
        }

        .place-info h3 {
            font-size: 1.4em;
            margin-bottom: 5px;
        }

        .place-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin: 10px 0;
        }

        .stars {
            color: #f1c40f;
        }

        .distance {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 15px;
            display: inline-block;
            margin-top: 10px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .action-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
            backdrop-filter: blur(10px);
        }

        .action-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .phrases-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .phrase-category {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            color: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(253, 121, 168, 0.4);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .phrase-category::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .phrase-category:hover::before {
            opacity: 1;
        }

        .phrase-category:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(253, 121, 168, 0.6);
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
        }

        .category-icon {
            font-size: 2em;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px;
            border-radius: 15px;
        }

        .phrase-item {
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .phrase-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .phrase-item strong {
            display: block;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .phrase-pronunciation {
            font-style: italic;
            opacity: 0.9;
        }

        .audio-btn {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 8px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .audio-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-50%) scale(1.1);
        }

        .emergency-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .emergency-card {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 184, 148, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .emergency-card::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.6s ease;
        }

        .emergency-card:hover::before {
            width: 300px;
            height: 300px;
        }

        .emergency-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 184, 148, 0.6);
        }

        .emergency-icon {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
        }

        .emergency-number {
            font-size: 2.5em;
            font-weight: bold;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .embassy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .embassy-card {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
            color: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(162, 155, 254, 0.4);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .embassy-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%) translateY(-100%);
            transition: transform 0.6s ease;
        }

        .embassy-card:hover::before {
            transform: translateX(100%) translateY(100%);
        }

        .embassy-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(162, 155, 254, 0.6);
        }

        .embassy-flag {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
        }

        .weather-widget {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 25px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(116, 185, 255, 0.4);
        }

        .weather-info {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .weather-item {
            text-align: center;
        }

        .weather-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .converter-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 25px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .converter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .converter-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
        }

        .converter-input {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.9);
            margin: 10px 0;
            font-size: 1.1em;
            text-align: center;
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .floating-action {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(238, 90, 82, 0.5);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .floating-action:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 35px rgba(238, 90, 82, 0.7);
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2.2em;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab-button {
                min-width: auto;
            }
            
            .status-bar {
                flex-direction: column;
                text-align: center;
            }

            .nearby-grid {
                grid-template-columns: 1fr;
            }

            .phrases-container {
                grid-template-columns: 1fr;
            }

            .emergency-grid {
                grid-template-columns: 1fr;
            }

            .embassy-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="floating-particles"></div>
    
    <div class="container">
        <header>
            <h1>ğŸŒŸ Tourism Companion</h1>
            <p class="subtitle">Your intelligent offline travel companion</p>
            <div class="quick-actions">
                <button class="quick-btn" onclick="shareLocation()">ğŸ“¤ Share Location</button>
                <button class="quick-btn" onclick="findNearestHospital()">ğŸ¥ Find Hospital</button>
                <button class="quick-btn" onclick="callEmergency()">ğŸš¨ Emergency Call</button>
                <button class="quick-btn" onclick="translateText()">ğŸ”„ Quick Translate</button>
            </div>
        </header>

        <div class="status-bar">
            <div class="location-info">
                <span>ğŸ“</span>
                <span id="current-location">Detecting location...</span>
            </div>
            <div class="status-indicators">
                <div class="indicator offline-indicator pulse">
                    ğŸ”„ Offline Ready
                </div>
                <div class="indicator weather-indicator">
                    â˜€ï¸ <span id="weather-temp">28Â°C</span>
                </div>
                <div class="indicator battery-indicator">
                    ğŸ”‹ <span id="battery-level">85%</span>
                </div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab-button active" onclick="showTab('map')">ğŸ—ºï¸ Interactive Map</button>
            <button class="tab-button" onclick="showTab('phrases')">ğŸ—£ï¸ Smart Phrases</button>
            <button class="tab-button" onclick="showTab('emergency')">ğŸš¨ Emergency Hub</button>
            <button class="tab-button" onclick="showTab('embassy')">ğŸ›ï¸ Embassy Center</button>
            <button class="tab-button" onclick="showTab('tools')">ğŸ› ï¸ Travel Tools</button>
            <button class="tab-button" onclick="showTab('weather')">ğŸŒ¤ï¸ Weather & Info</button>
        </div>

        <div id="map" class="tab-content active">
            <div class="location-card">
                <div class="location-content">
                    <h3>ğŸ“ Your Current Location</h3>
                    <div class="coordinates" id="coordinates">
                        <div>Latitude: <span id="lat">Getting location...</span></div>
                        <div>Longitude: <span id="lng">Please wait...</span></div>
                    </div>
                    <p>Accuracy: <span id="accuracy">Calculating...</span> | Last updated: <span id="last-update">--</span></p>
                </div>
            </div>

            <div class="interactive-map">
                <h3 style="color: white; margin-bottom: 20px;">ğŸ—ºï¸ Interactive Offline Map</h3>
                <p style="color: rgba(255,255,255,0.8); margin-bottom: 20px;">GPS-enabled location services with real-time updates</p>
                
                <div class="map-controls">
                    <button class="control-btn" onclick="centerMap()">ğŸ“ Center on Me</button>
                    <button class="control-btn" onclick="toggleSatellite()">ğŸ›°ï¸ Satellite View</button>
                    <button class="control-btn" onclick="showTraffic()">ğŸš¦ Traffic Layer</button>
                    <button class="control-btn" onclick="searchNearby()">ğŸ” Search Nearby</button>
                </div>

                <div style="color: rgba(255,255,255,0.7); margin-top: 20px;">
                    <p>ğŸ”„ Offline maps cached and ready</p>
                    <p>ğŸ“¡ GPS signal: <span id="gps-signal">Strong</span></p>
                </div>
            </div>

            <div class="weather-widget">
                <h3>Current Weather in Phnom Penh</h3>
                <div class="weather-info">
                    <div class="weather-item">
                        <div class="weather-icon">â˜€ï¸</div>
                        <div>Sunny</div>
                        <div>28Â°C</div>
                    </div>
                    <div class="weather-item">
                        <div class="weather-icon">ğŸ’¨</div>
                        <div>Wind</div>
                        <div>12 km/h</div>
                    </div>
                    <div class="weather-item">
                        <div class="weather-icon">ğŸ’§</div>
                        <div>Humidity</div>
                        <div>65%</div>
                    </div>
                    <div class="weather-item">
                        <div class="weather-icon">ğŸ‘ï¸</div>
                        <div>Visibility</div>
                        <div>10 km</div>
                    </div>
                </div>
            </div>

            <div class="nearby-grid">
                <div class="place-card" onclick="navigateToPlace('hotel')">
                    <div class="place-header">
                        <div class="place-icon">ğŸ¨</div>
                        <div class="place-info">
                            <h3>Grand Hotel Cambodia</h3>
                            <div class="place-rating">
                                <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                <span>4.2 (128 reviews)</span>
                            </div>
                        </div>
                    </div>
                    <p>Luxury hotel in the heart of Phnom Penh<br>123 Sisowath Quay, Phnom Penh</p>
                    <div class="distance">ğŸ“ 0.5 km away â€¢ 6 min walk</div>
                    <div class="actions">
                        <button class="action-btn" onclick="event.stopPropagation(); callPlace('+855-23-999-000')">ğŸ“ Call</button>
                        <button class="action-btn" onclick="event.stopPropagation(); getDirections('hotel')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="event.stopPropagation(); savePlace('hotel')">â¤ï¸ Save</button>
                    </div>
                </div>

                <div class="place-card" onclick="navigateToPlace('hospital')">
                    <div class="place-header">
                        <div class="place-icon">ğŸ¥</div>
                        <div class="place-info">
                            <h3>Royal Phnom Penh Hospital</h3>
                            <div class="place-rating">
                                <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                <span>4.8 (256 reviews)</span>
                            </div>
                        </div>
                    </div>
                    <p>24/7 Emergency services available<br>888 Monivong Blvd, Phnom Penh</p>
                    <div class="distance">ğŸ“ 1.2 km away â€¢ 15 min walk</div>
                    <div class="actions">
                        <button class="action-btn" onclick="event.stopPropagation(); callPlace('+855-23-991-000')">ğŸ“ Emergency</button>
                        <button class="action-btn" onclick="event.stopPropagation(); getDirections('hospital')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="event.stopPropagation(); savePlace('hospital')">â¤ï¸ Save</button>
                    </div>
                </div>

                <div class="place-card" onclick="navigateToPlace('restaurant')">
                    <div class="place-header">
                        <div class="place-icon">ğŸ½ï¸</div>
                        <div class="place-info">
                            <h3>Friends Restaurant</h3>
                            <div class="place-rating">
                                <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                                <span>4.6 (89 reviews)</span>
                            </div>
                        </div>
                    </div>
                    <p>International cuisine & local specialties<br>215 Street 13, Phnom Penh</p>
                    <div class="distance">ğŸ“ 0.8 km away â€¢ 10 min walk</div>
                    <div class="actions">
                        <button class="action-btn" onclick="event.stopPropagation(); callPlace('+855-23-426-748')">ğŸ“ Reserve</button>
                        <button class="action-btn" onclick="event.stopPropagation(); getDirections('restaurant')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="event.stopPropagation(); viewMenu()">ğŸ“‹ Menu</button>
                    </div>
                </div>

                <div class="place-card" onclick="navigateToPlace('atm')">
                    <div class="place-header">
                        <div class="place-icon">ğŸ§</div>
                        <div class="place-info">
                            <h3>ABA Bank ATM</h3>
                            <div class="place-rating">
                                <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                <span>Available 24/7</span>
                            </div>
                        </div>
                    </div>
                    <p>International cards accepted<br>Corner of Street 51 & 178</p>
                    <div class="distance">ğŸ“ 0.3 km away â€¢ 4 min walk</div>
                    <div class="actions">
                        <button class="action-btn" onclick="event.stopPropagation(); checkFees()">ğŸ’° Fees</button>
                        <button class="action-btn" onclick="event.stopPropagation(); getDirections('atm')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="event.stopPropagation(); findMoreAtms()">ğŸ” More ATMs</button>
                    </div>
                </div>

                <div class="place-card" onclick="navigateToPlace('gas')">
                    <div class="place-header">
                        <div class="place-icon">â›½</div>
                        <div class="place-info">
                            <h3>Caltex Fuel Station</h3>
                            <div class="place-rating">
                                <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                <span>Clean facilities</span>
                            </div>
                        </div>
                    </div>
                    <p>Premium fuel & convenience store<br>Monivong Boulevard</p>
                    <div class="distance">ğŸ“ 0.7 km away â€¢ 8 min walk</div>
                    <div class="actions">
                        <button class="action-btn" onclick="event.stopPropagation(); checkPrices()">ğŸ’µ Prices</button>
                        <button class="action-btn" onclick="event.stopPropagation(); getDirections('gas')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="event.stopPropagation(); savePlace('gas')">â¤ï¸ Save</button>
                    </div>
                </div>

                <div class="place-card" onclick="navigateToPlace('store')">
                    <div class="place-header">
                        <div class="place-icon">ğŸª</div>
                        <div class="place-info">
                            <h3>Lucky Supermarket</h3>
                            <div class="place-rating">
                                <span class="stars">â˜…â˜…â˜…â˜…â˜†</span>
                                <span>4.1 (45 reviews)</span>
                            </div>
                        </div>
                    </div>
                    <p>Groceries, snacks & daily essentials<br>Street 182, Phnom Penh</p>
                    <div class="distance">ğŸ“ 0.4 km away â€¢ 5 min walk</div>
                    <div class="actions">
                        <button class="action-btn" onclick="event.stopPropagation(); viewHours()">ğŸ•’ Hours</button>
                        <button class="action-btn" onclick="event.stopPropagation(); getDirections('store')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="event.stopPropagation(); savePlace('store')">â¤ï¸ Save</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="phrases" class="tab-content">
            <div class="phrases-container">
                <div class="phrase-category">
                    <div class="category-header">
                        <div class="category-icon">ğŸ‘‹</div>
                        <div>
                            <h3>Essential Greetings</h3>
                            <p>Basic daily interactions</p>
                        </div>
                    </div>
                    <div class="phrase-item" onclick="playAudio('hello')">
                        <strong>Hello / Good day</strong>
                        <div class="phrase-pronunciation">á‡áŸ†ášá¶á”áŸá½áš (Chomreab suor)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('thank-you')">
                        <strong>Thank you very much</strong>
                        <div class="phrase-pronunciation">á¢ášá‚á»áá…áŸ’ášá¾á“ (Orkun chran)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('please')">
                        <strong>Please help me</strong>
                        <div class="phrase-pronunciation">áŸá¼á˜á‡á½á™ááŸ’á‰á»áŸ†á•á„ (Som chuoy khnhom phong)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('excuse-me')">
                        <strong>Excuse me / Sorry</strong>
                        <div class="phrase-pronunciation">áŸá»áŸ†á‘áŸ„áŸ (Som tos)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('goodbye')">
                        <strong>Goodbye / See you later</strong>
                        <div class="phrase-pronunciation">á›á¶á á¾á™ (Lea haey)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                </div>

                <div class="phrase-category">
                    <div class="category-header">
                        <div class="category-icon">ğŸ¨</div>
                        <div>
                            <h3>Hotel & Accommodation</h3>
                            <p>Check-in, rooms, services</p>
                        </div>
                    </div>
                    <div class="phrase-item" onclick="playAudio('reservation')">
                        <strong>I have a reservation</strong>
                        <div class="phrase-pronunciation">ááŸ’á‰á»áŸ†á˜á¶á“á€á¶ášá€á€áŸ‹á”á“áŸ’á‘á”áŸ‹ (Khnhom mean kar kok bontub)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('room-key')">
                        <strong>Can I have my room key?</strong>
                        <div class="phrase-pronunciation">áŸá¼á˜á‚á“áŸ’á›á¹áŸ‡á”á“áŸ’á‘á”áŸ‹ááŸ’á‰á»áŸ† (Som konlesh bontub khnhom)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('wifi')">
                        <strong>What's the WiFi password?</strong>
                        <div class="phrase-pronunciation">á›áŸááŸá˜áŸ’á„á¶ááŸ‹áœáŸ‰á¶á™á áŸ’áœá¶á™á‚áºá¢áŸ’áœá¸? (Lek somngat WiFi keu avei?)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('checkout')">
                        <strong>I want to check out</strong>
                        <div class="phrase-pronunciation">ááŸ’á‰á»áŸ†á…á„áŸ‹á…áŸá‰á–á¸á”á“áŸ’á‘á”áŸ‹ (Khnhom chong cheng pi bontub)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                </div>

                <div class="phrase-category">
                    <div class="category-header">
                        <div class="category-icon">ğŸš—</div>
                        <div>
                            <h3>Transportation</h3>
                            <p>Taxis, buses, directions</p>
                        </div>
                    </div>
                    <div class="phrase-item" onclick="playAudio('how-much')">
                        <strong>How much does it cost?</strong>
                        <div class="phrase-pronunciation">áá˜áŸ’á›áŸƒá”áŸ‰á»á“áŸ’á˜á¶á“? (Tomlai ponman?)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('airport')">
                        <strong>Please take me to the airport</strong>
                        <div class="phrase-pronunciation">áŸá¼á˜á™á€ááŸ’á‰á»áŸ†á‘áŸ…á¢á¶á€á¶áŸá™á¶á“áŠáŸ’á‹á¶á“ (Som yok khnhom tov akasayeandthan)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('bus-station')">
                        <strong>Where is the bus station?</strong>
                        <div class="phrase-pronunciation">áŸáŸ’áá¶á“á¸á™áŸá¡á¶á“á“áŸ…á¯áá¶? (Sthani loan nov ei na?)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('stop-here')">
                        <strong>Please stop here</strong>
                        <div class="phrase-pronunciation">áŸá¼á˜áˆá”áŸ‹ááŸ’ášá„áŸ‹á“áŸáŸ‡ (Som chhob trong nih)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                </div>

                <div class="phrase-category">
                    <div class="category-header">
                        <div class="category-icon">ğŸ½ï¸</div>
                        <div>
                            <h3>Dining & Food</h3>
                            <p>Restaurants, ordering, preferences</p>
                        </div>
                    </div>
                    <div class="phrase-item" onclick="playAudio('hungry')">
                        <strong>I'm very hungry</strong>
                        <div class="phrase-pronunciation">ááŸ’á‰á»áŸ†áƒáŸ’á›á¶á“áá¶áŸáŸ‹ (Khnhom khlean nas)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('menu')">
                        <strong>Can I see the menu?</strong>
                        <div class="phrase-pronunciation">ááŸ’á‰á»áŸ†á¢á¶á…á˜á¾á›á˜áŸ‰áºá“á»á™á”á¶á“á‘áŸ? (Khnhom ach merl menu ban te?)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('spicy')">
                        <strong>Not too spicy, please</strong>
                        <div class="phrase-pronunciation">á€á»áŸ†á²áŸ’á™á á¶á›á–áŸá€áŸá¼á˜ (Kom aoy hal pek som)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('bill')">
                        <strong>Can I have the bill?</strong>
                        <div class="phrase-pronunciation">áŸá¼á˜á‚á·áá›á»á™á•á„ (Som kit luy phong)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('delicious')">
                        <strong>This is delicious!</strong>
                        <div class="phrase-pronunciation">á“áŸáŸ‡á†áŸ’á„á¶á‰áŸ‹áá¶áŸáŸ‹! (Nih chhnganha nas!)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                </div>

                <div class="phrase-category">
                    <div class="category-header">
                        <div class="category-icon">ğŸš¨</div>
                        <div>
                            <h3>Emergency Situations</h3>
                            <p>Getting help when needed</p>
                        </div>
                    </div>
                    <div class="phrase-item" onclick="playAudio('help')">
                        <strong>Help me please!</strong>
                        <div class="phrase-pronunciation">áŸá¼á˜á‡á½á™ááŸ’á‰á»áŸ†á•á„! (Som chuoy khnhom phong!)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('doctor')">
                        <strong>I need to see a doctor</strong>
                        <div class="phrase-pronunciation">ááŸ’á‰á»áŸ†ááŸ’ášá¼áœá€á¶ášá‡á½á”áœáŸá‡áŸ’á‡á”ááŸ’áŒá·á (Khnhom trov kar chuob vech bandit)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('police')">
                        <strong>Please call the police</strong>
                        <div class="phrase-pronunciation">áŸá¼á˜á áŸ…á”áŸ‰á¼á›á¸áŸ (Som hav polis)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('lost')">
                        <strong>I am lost</strong>
                        <div class="phrase-pronunciation">ááŸ’á‰á»áŸ†á”á¶ááŸ‹á•áŸ’á›á¼áœ (Khnhom bat plov)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                </div>

                <div class="phrase-category">
                    <div class="category-header">
                        <div class="category-icon">ğŸ’°</div>
                        <div>
                            <h3>Money & Shopping</h3>
                            <p>Payments, bargaining, purchases</p>
                        </div>
                    </div>
                    <div class="phrase-item" onclick="playAudio('price')">
                        <strong>What's the price?</strong>
                        <div class="phrase-pronunciation">áá˜áŸ’á›áŸƒá”áŸ‰á»á“áŸ’á˜á¶á“? (Tomlai ponman?)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('expensive')">
                        <strong>Too expensive</strong>
                        <div class="phrase-pronunciation">ááŸ’á›áŸƒá–áŸá€ (Thlai pek)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('discount')">
                        <strong>Can you give me a discount?</strong>
                        <div class="phrase-pronunciation">á¢á¶á…á”á“áŸ’áá™áá˜áŸ’á›áŸƒá”á¶á“á‘áŸ? (Ach bonthoy tomlai ban te?)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                    <div class="phrase-item" onclick="playAudio('card')">
                        <strong>Do you accept credit cards?</strong>
                        <div class="phrase-pronunciation">á‘á‘á½á›á€á¶áá¥áá‘á¶á“á‘áŸ? (Totuol kat entean te?)</div>
                        <button class="audio-btn">ğŸ”Š</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="emergency" class="tab-content">
            <div class="emergency-grid">
                <div class="emergency-card" onclick="callEmergencyService('117')">
                    <span class="emergency-icon">ğŸ‘®â€â™‚ï¸</span>
                    <h3>Police Emergency</h3>
                    <div class="emergency-number">117</div>
                    <p>Crimes, theft, security issues, general emergencies</p>
                    <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                        24/7 â€¢ Response time: 5-10 min
                    </div>
                </div>

                <div class="emergency-card" onclick="callEmergencyService('119')">
                    <span class="emergency-icon">ğŸš‘</span>
                    <h3>Medical Emergency</h3>
                    <div class="emergency-number">119</div>
                    <p>Medical emergencies, ambulance services, hospital transport</p>
                    <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                        24/7 â€¢ Average response: 8-12 min
                    </div>
                </div>

                <div class="emergency-card" onclick="callEmergencyService('118')">
                    <span class="emergency-icon">ğŸ”¥</span>
                    <h3>Fire & Rescue</h3>
                    <div class="emergency-number">118</div>
                    <p>Fire emergencies, rescue operations, hazardous situations</p>
                    <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                        24/7 â€¢ Specialized rescue teams
                    </div>
                </div>

                <div class="emergency-card" onclick="shareLocation()">
                    <span class="emergency-icon">ğŸ“±</span>
                    <h3>Share Location</h3>
                    <div class="emergency-number" style="font-size: 1.4em;">0716145925</div>
                    <p>Send your exact location via SMS for emergency assistance</p>
                    <button class="control-btn" onclick="shareLocation()" style="margin-top: 15px; background: rgba(255,255,255,0.2);">
                        ğŸ“¤ Send Location Now
                    </button>
                </div>

                <div class="emergency-card" onclick="showTouristPolice()">
                    <span class="emergency-icon">ğŸ›¡ï¸</span>
                    <h3>Tourist Police</h3>
                    <div class="emergency-number">012 942 484</div>
                    <p>Specialized assistance for tourists, English speaking officers</p>
                    <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                        Daily 7AM-7PM â€¢ Tourist support
                    </div>
                </div>

                <div class="emergency-card" onclick="showTrafficPolice()">
                    <span class="emergency-icon">ğŸš¦</span>
                    <h3>Traffic Police</h3>
                    <div class="emergency-number">012 999 999</div>
                    <p>Traffic accidents, road incidents, vehicle assistance</p>
                    <div style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;">
                        24/7 â€¢ Accident response
                    </div>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; margin-top: 25px; backdrop-filter: blur(15px);">
                <h3 style="color: white; margin-bottom: 20px;">ğŸ¥ Important Medical Centers</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                        <h4 style="color: white; margin-bottom: 10px;">Royal Phnom Penh Hospital</h4>
                        <p style="color: rgba(255,255,255,0.8);">ğŸ“ +855 23 991 000<br>ğŸ“ 888 Monivong Blvd<br>â° 24/7 Emergency</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                        <h4 style="color: white; margin-bottom: 10px;">International SOS</h4>
                        <p style="color: rgba(255,255,255,0.8);">ğŸ“ +855 23 216 911<br>ğŸ“ 161 Street 51<br>â° 24/7 Medical Center</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                        <h4 style="color: white; margin-bottom: 10px;">European Dental Clinic</h4>
                        <p style="color: rgba(255,255,255,0.8);">ğŸ“ +855 23 211 363<br>ğŸ“ 160A Norodom Blvd<br>â° Mon-Sat 8AM-7PM</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="embassy" class="tab-content">
            <div class="embassy-grid">
                <div class="embassy-card">
                    <span class="embassy-flag">ğŸ‡ºğŸ‡¸</span>
                    <h3>United States Embassy</h3>
                    <p><strong>Address:</strong> #1, Street 96, Sangkat Wat Phnom, Khan Daun Penh, Phnom Penh</p>
                    <p><strong>Phone:</strong> +855 23 728 000</p>
                    <p><strong>Emergency:</strong> +855 23 728 118</p>
                    <p><strong>Hours:</strong> Monday-Friday 8:00-17:00</p>
                    <div style="margin-top: 15px;">
                        <button class="action-btn" onclick="callEmbassy('+85523728000')">ğŸ“ Call</button>
                        <button class="action-btn" onclick="getDirections('us-embassy')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="viewServices('us')">ğŸ“‹ Services</button>
                    </div>
                </div>

                <div class="embassy-card">
                    <span class="embassy-flag">ğŸ‡¬ğŸ‡§</span>
                    <h3>United Kingdom Embassy</h3>
                    <p><strong>Address:</strong> 27-29, Street 75, Sangkat Srah Chak, Khan Daun Penh, Phnom Penh</p>
                    <p><strong>Phone:</strong> +855 23 427 124</p>
                    <p><strong>Emergency:</strong> +855 23 427 124</p>
                    <p><strong>Hours:</strong> Mon-Thu 8:00-17:00, Fri 8:00-13:30</p>
                    <div style="margin-top: 15px;">
                        <button class="action-btn" onclick="callEmbassy('+85523427124')">ğŸ“ Call</button>
                        <button class="action-btn" onclick="getDirections('uk-embassy')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="viewServices('uk')">ğŸ“‹ Services</button>
                    </div>
                </div>

                <div class="embassy-card">
                    <span class="embassy-flag">ğŸ‡«ğŸ‡·</span>
                    <h3>French Embassy</h3>
                    <p><strong>Address:</strong> 1, Monivong Blvd, Khan Daun Penh, Phnom Penh</p>
                    <p><strong>Phone:</strong> +855 23 430 020</p>
                    <p><strong>Emergency:</strong> +855 23 430 020</p>
                    <p><strong>Hours:</strong> Mon-Fri 8:00-12:00, 14:00-17:00</p>
                    <div style="margin-top: 15px;">
                        <button class="action-btn" onclick="callEmbassy('+85523430020')">ğŸ“ Call</button>
                        <button class="action-btn" onclick="getDirections('french-embassy')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="viewServices('france')">ğŸ“‹ Services</button>
                    </div>
                </div>

                <div class="embassy-card">
                    <span class="embassy-flag">ğŸ‡©ğŸ‡ª</span>
                    <h3>German Embassy</h3>
                    <p><strong>Address:</strong> 76-78, Street 214, Sangkat Chakto Mukh, Khan Daun Penh, Phnom Penh</p>
                    <p><strong>Phone:</strong> +855 23 216 381</p>
                    <p><strong>Emergency:</strong> +855 23 216 381</p>
                    <p><strong>Hours:</strong> Mon-Thu 7:30-16:30, Fri 7:30-14:00</p>
                    <div style="margin-top: 15px;">
                        <button class="action-btn" onclick="callEmbassy('+85523216381')">ğŸ“ Call</button>
                        <button class="action-btn" onclick="getDirections('german-embassy')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="viewServices('germany')">ğŸ“‹ Services</button>
                    </div>
                </div>

                <div class="embassy-card">
                    <span class="embassy-flag">ğŸ‡¦ğŸ‡º</span>
                    <h3>Australian Embassy</h3>
                    <p><strong>Address:</strong> 16, National Assembly St, Tonle Bassac, Phnom Penh</p>
                    <p><strong>Phone:</strong> +855 23 213 470</p>
                    <p><strong>Emergency:</strong> +855 23 213 470</p>
                    <p><strong>Hours:</strong> Monday-Friday 8:00-17:00</p>
                    <div style="margin-top: 15px;">
                        <button class="action-btn" onclick="callEmbassy('+85523213470')">ğŸ“ Call</button>
                        <button class="action-btn" onclick="getDirections('aussie-embassy')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="viewServices('australia')">ğŸ“‹ Services</button>
                    </div>
                </div>

                <div class="embassy-card">
                    <span class="embassy-flag">ğŸ‡¯ğŸ‡µ</span>
                    <h3>Japanese Embassy</h3>
                    <p><strong>Address:</strong> 194, Moha Vithei Preah Norodom, Khan Daun Penh, Phnom Penh</p>
                    <p><strong>Phone:</strong> +855 23 217 161</p>
                    <p><strong>Emergency:</strong> +855 23 217 161</p>
                    <p><strong>Hours:</strong> Mon-Fri 8:30-12:00, 13:30-17:15</p>
                    <div style="margin-top: 15px;">
                        <button class="action-btn" onclick="callEmbassy('+85523217161')">ğŸ“ Call</button>
                        <button class="action-btn" onclick="getDirections('japan-embassy')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="viewServices('japan')">ğŸ“‹ Services</button>
                    </div>
                </div>

                <div class="embassy-card">
                    <span class="embassy-flag">ğŸ‡¨ğŸ‡¦</span>
                    <h3>Canadian Embassy</h3>
                    <p><strong>Address:</strong> 9th Floor, Canadia Tower, 315 Monivong Blvd, Phnom Penh</p>
                    <p><strong>Phone:</strong> +855 23 213 694</p>
                    <p><strong>Emergency:</strong> +855 23 213 694</p>
                    <p><strong>Hours:</strong> Monday-Friday 8:00-16:30</p>
                    <div style="margin-top: 15px;">
                        <button class="action-btn" onclick="callEmbassy('+85523213694')">ğŸ“ Call</button>
                        <button class="action-btn" onclick="getDirections('canadian-embassy')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="viewServices('canada')">ğŸ“‹ Services</button>
                    </div>
                </div>

                <div class="embassy-card">
                    <span class="embassy-flag">ğŸ‡°ğŸ‡·</span>
                    <h3>South Korean Embassy</h3>
                    <p><strong>Address:</strong> 64 Norodom Blvd, Khan Daun Penh, Phnom Penh</p>
                    <p><strong>Phone:</strong> +855 23 211 900</p>
                    <p><strong>Emergency:</strong> +855 23 211 900</p>
                    <p><strong>Hours:</strong> Monday-Friday 9:00-17:30</p>
                    <div style="margin-top: 15px;">
                        <button class="action-btn" onclick="callEmbassy('+85523211900')">ğŸ“ Call</button>
                        <button class="action-btn" onclick="getDirections('korean-embassy')">ğŸ§­ Directions</button>
                        <button class="action-btn" onclick="viewServices('korea')">ğŸ“‹ Services</button>
                    </div>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; margin-top: 25px; backdrop-filter: blur(15px);">
                <h3 style="color: white; margin-bottom: 20px;">ğŸ“ Important Embassy Services</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                        <h4 style="color: white; margin-bottom: 10px;">ğŸ†” Passport Services</h4>
                        <p style="color: rgba(255,255,255,0.8); font-size: 0.9em;">Lost/stolen passport replacement, emergency travel documents, passport renewal</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                        <h4 style="color: white; margin-bottom: 10px;">âš–ï¸ Legal Assistance</h4>
                        <p style="color: rgba(255,255,255,0.8); font-size: 0.9em;">List of local lawyers, legal advice, assistance with local authorities</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                        <h4 style="color: white; margin-bottom: 10px;">ğŸ¥ Medical Emergency</h4>
                        <p style="color: rgba(255,255,255,0.8); font-size: 0.9em;">Medical referrals, hospital contact, family notification</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                        <h4 style="color: white; margin-bottom: 10px;">ğŸ’° Emergency Funds</h4>
                        <p style="color: rgba(255,255,255,0.8); font-size: 0.9em;">Emergency loan services, money transfer assistance, financial support</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="tools" class="tab-content">
            <div class="converter-section">
                <h3 style="color: white; margin-bottom: 20px;">ğŸ”§ Essential Travel Tools</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-bottom: 30px;">
                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; backdrop-filter: blur(15px);">
                        <h4 style="color: white; margin-bottom: 15px;">ğŸ’± Currency Converter</h4>
                        <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                            <div>
                                <label style="color: white; display: block; margin-bottom: 5px;">USD ($)</label>
                                <input type="number" class="converter-input" id="usd-input" placeholder="100" onchange="convertCurrency('usd')" style="width: 120px;">
                            </div>
                            <div style="color: white; font-size: 1.5em;">â†”ï¸</div>
                            <div>
                                <label style="color: white; display: block; margin-bottom: 5px;">KHR (ášáŸ€á›)</label>
                                <input type="number" class="converter-input" id="khr-input" placeholder="400000" onchange="convertCurrency('khr')" style="width: 120px;">
                            </div>
                        </div>
                        <p style="color: rgba(255,255,255,0.7); margin-top: 10px; font-size: 0.9em;">Current rate: 1 USD = 4,100 KHR</p>
                    </div>

                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; backdrop-filter: blur(15px);">
                        <h4 style="color: white; margin-bottom: 15px;">ğŸŒ¡ï¸ Temperature Converter</h4>
                        <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                            <div>
                                <label style="color: white; display: block; margin-bottom: 5px;">Celsius (Â°C)</label>
                                <input type="number" class="converter-input" id="celsius-input" placeholder="28" onchange="convertTemperature('c')" style="width: 120px;">
                            </div>
                            <div style="color: white; font-size: 1.5em;">â†”ï¸</div>
                            <div>
                                <label style="color: white; display: block; margin-bottom: 5px;">Fahrenheit (Â°F)</label>
                                <input type="number" class="converter-input" id="fahrenheit-input" placeholder="82.4" onchange="convertTemperature('f')" style="width: 120px;">
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; backdrop-filter: blur(15px);">
                        <h4 style="color: white; margin-bottom: 15px;">ğŸ“ Distance Converter</h4>
                        <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                            <div>
                                <label style="color: white; display: block; margin-bottom: 5px;">Kilometers</label>
                                <input type="number" class="converter-input" id="km-input" placeholder="5" onchange="convertDistance('km')" style="width: 120px;">
                            </div>
                            <div style="color: white; font-size: 1.5em;">â†”ï¸</div>
                            <div>
                                <label style="color: white; display: block; margin-bottom: 5px;">Miles</label>
                                <input type="number" class="converter-input" id="miles-input" placeholder="3.1" onchange="convertDistance('miles')" style="width: 120px;">
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; backdrop-filter: blur(15px);">
                        <h4 style="color: white; margin-bottom: 15px;">â° Time Zone Info</h4>
                        <div style="color: white;">
                            <p><strong>Phnom Penh Time:</strong></p>
                            <p id="local-time" style="font-size: 1.3em; margin: 10px 0;">--:--:--</p>
                            <p style="font-size: 0.9em; opacity: 0.8;">UTC+7 (Indochina Time)</p>
                        </div>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px;">
                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; backdrop-filter: blur(15px);">
                        <h4 style="color: white; margin-bottom: 15px;">ğŸ“ Quick Note Pad</h4>
                        <textarea id="notes-area" placeholder="Write your travel notes here..." style="width: 100%; height: 150px; padding: 15px; border: none; border-radius: 10px; background: rgba(255,255,255,0.9); resize: vertical; font-family: inherit;"></textarea>
                        <div style="margin-top: 15px; display: flex; gap: 10px;">
                            <button class="action-btn" onclick="saveNotes()" style="background: rgba(46, 204, 113, 0.8);">ğŸ’¾ Save</button>
                            <button class="action-btn" onclick="clearNotes()" style="background: rgba(231, 76, 60, 0.8);">ğŸ—‘ï¸ Clear</button>
                            <button class="action-btn" onclick="shareNotes()" style="background: rgba(52, 152, 219, 0.8);">ğŸ“¤ Share</button>
                        </div>
                    </div>

                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; backdrop-filter: blur(15px);">
                        <h4 style="color: white; margin-bottom: 15px;">ğŸ§® Tip Calculator</h4>
                        <div style="margin-bottom: 15px;">
                            <label style="color: white; display: block; margin-bottom: 5px;">Bill Amount (USD)</label>
                            <input type="number" class="converter-input" id="bill-amount" placeholder="25.00" onchange="calculateTip()" style="width: 100%;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label style="color: white; display: block; margin-bottom: 5px;">Tip Percentage</label>
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <button class="action-btn tip-btn" onclick="setTip(10)" style="width: 60px;">10%</button>
                                <button class="action-btn tip-btn" onclick="setTip(15)" style="width: 60px;">15%</button>
                                <button class="action-btn tip-btn" onclick="setTip(18)" style="width: 60px;">18%</button>
                                <button class="action-btn tip-btn" onclick="setTip(20)" style="width: 60px;">20%</button>
                            </div>
                        </div>
                        <div id="tip-result" style="color: white; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; text-align: center;">
                            <p>Tip: $0.00</p>
                            <p><strong>Total: $0.00</strong></p>
                        </div>
                    </div>

                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; backdrop-filter: blur(15px);">
                        <h4 style="color: white; margin-bottom: 15px;">ğŸ“ Quick Contacts</h4>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <button class="control-btn" onclick="callService('taxi')" style="justify-content: flex-start; text-align: left;">
                                ğŸš• Taxi Service: 023 888 888
                            </button>
                            <button class="control-btn" onclick="callService('delivery')" style="justify-content: flex-start; text-align: left;">
                                ğŸ• Food Delivery: 023 999 000
                            </button>
                            <button class="control-btn" onclick="callService('tourist-info')" style="justify-content: flex-start; text-align: left;">
                                â„¹ï¸ Tourist Info: 023 724 059
                            </button>
                            <button class="control-btn" onclick="callService('airport')" style="justify-content: flex-start; text-align: left;">
                                âœˆï¸ Airport Info: 023 890 890
                            </button>
                        </div>
                    </div>

                    <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 20px; backdrop-filter: blur(15px);">
                        <h4 style="color: white; margin-bottom: 15px;">ğŸ¯ Quick Translator</h4>
                        <textarea id="translate-input" placeholder="Enter English text to translate..." style="width: 100%; height: 80px; padding: 15px; border: none; border-radius: 10px; background: rgba(255,255,255,0.9); resize: none; font-family: inherit; margin-bottom: 15px;"></textarea>
                        <button class="control-btn" onclick="translateToKhmer()" style="width: 100%; margin-bottom: 15px;">
                            ğŸ”„ Translate to Khmer
                        </button>
                        <div id="translation-result" style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; min-height: 60px; color: white;">
                            Translation will appear here...
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="weather" class="tab-content">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px;">
                <div style="background: linear-gradient(135deg, #74b9ff, #0984e3); color: white; padding: 25px; border-radius: 20px; box-shadow: 0 8px 25px rgba(116, 185, 255, 0.4);">
                    <h3 style="margin-bottom: 20px;">ğŸŒ¤ï¸ Current Weather</h3>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <div>
                            <div style="font-size: 3em; margin-bottom: 10px;">â˜€ï¸</div>
                            <div style="font-size: 2em; font-weight: bold;">28Â°C</div>
                            <div>Feels like 32Â°C</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 1.2em; margin-bottom: 10px;">Sunny</div>
                            <div>UV Index: 8 (High)</div>
                            <div>Visibility: 10km</div>
                        </div>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 15px;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; text-align: center;">
                            <div>
                                <div>ğŸ’¨ Wind</div>
                                <div style="font-weight: bold;">12 km/h</div>
                            </div>
                            <div>
                                <div>ğŸ’§ Humidity</div>
                                <div style="font-weight: bold;">65%</div>
                            </div>
                            <div>
                                <div>ğŸŒ¡ï¸ Pressure</div>
                                <div style="font-weight: bold;">1013 mb</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #fd79a8, #e84393); color: white; padding: 25px; border-radius: 20px; box-shadow: 0 8px 25px rgba(253, 121, 168, 0.4);">
                    <h3 style="margin-bottom: 20px;">ğŸ“… 7-Day Forecast</h3>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.1); padding: 12px; border-radius: 10px;">
                            <span>Today</span>
                            <span>â˜€ï¸</span>
                            <span>32Â°/24Â°</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.1); padding: 12px; border-radius: 10px;">
                            <span>Tomorrow</span>
                            <span>â›…</span>
                            <span>30Â°/23Â°</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.1); padding: 12px; border-radius: 10px;">
                            <span>Sunday</span>
                            <span>ğŸŒ§ï¸</span>
                            <span>27Â°/22Â°</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.1); padding: 12px; border-radius: 10px;">
                            <span>Monday</span>
                            <span>ğŸŒ¦ï¸</span>
                            <span>29Â°/24Â°</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.1); padding: 12px; border-radius: 10px;">
                            <span>Tuesday</span>
                            <span>â˜€ï¸</span>
                            <span>31Â°/25Â°</span>
                        </div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #00b894, #00a085); color: white; padding: 25px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0, 184, 148, 0.4);">
                    <h3 style="margin-bottom: 20px;">ğŸŒ Travel Advisories</h3>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                            <div style="font-weight: bold; margin-bottom: 5px;">ğŸ¦º Safety Level</div>
                            <div style="color: #2ecc71;">â— Low Risk</div>
                            <div style="font-size: 0.9em; opacity: 0.8;">General precautions advised</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                            <div style="font-weight: bold; margin-bottom: 5px;">ğŸ¥ Health Alert</div>
                            <div style="color: #f39c12;">â— Medium</div>
                            <div style="font-size: 0.9em; opacity: 0.8;">Vaccinations recommended</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                            <div style="font-weight: bold; margin-bottom: 5px;">ğŸš¦ Traffic Conditions</div>
                            <div style="color: #2ecc71;">â— Normal</div>
                            <div style="font-size: 0.9em; opacity: 0.8;">Moderate congestion in city center</div>
                        </div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #a29bfe, #6c5ce7); color: white; padding: 25px; border-radius: 20px; box-shadow: 0 8px 25px rgba(162, 155, 254, 0.4);">
                    <h3 style="margin-bottom: 20px;">ğŸ“ Local Information</h3>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <div>
                            <div style="font-weight: bold; margin-bottom: 8px;">ğŸŒ… Sunrise / Sunset</div>
                            <div>ğŸŒ… 06:12 AM | ğŸŒ‡ 06:24 PM</div>
                        </div>
                        <div>
                            <div style="font-weight: bold; margin-bottom: 8px;">ğŸŒ™ Moon Phase</div>
                            <div>ğŸŒ” Waxing Gibbous (78%)</div>
                        </div>
                        <div>
                            <div style="font-weight: bold; margin-bottom: 8px;">ğŸ–ï¸ Best Travel Times</div>
                            <div style="font-size: 0.9em;">Dry Season: Nov-Apr<br>Avoid: Rainy Season Jun-Oct</div>
                        </div>
                        <div>
                            <div style="font-weight: bold; margin-bottom: 8px;">ğŸŒ¡ï¸ Seasonal Info</div>
                            <div style="font-size: 0.9em;">Cool & Dry: Nov-Feb<br>Hot & Dry: Mar-May</div>
                        </div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #ff7675, #e17055); color: white; padding: 25px; border-radius: 20px; box-shadow: 0 8px 25px rgba(255, 118, 117, 0.4);">
                    <h3 style="margin-bottom: 20px;">ğŸ’¡ Travel Tips</h3>
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <span>ğŸ’§</span>
                            <span style="font-size: 0.9em;">Drink bottled water, avoid tap water</span>
                        </div>
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <span>â˜€ï¸</span>
                            <span style="font-size: 0.9em;">Use sunscreen, UV levels are high year-round</span>
                        </div>
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <span>ğŸ¦Ÿ</span>
                            <span style="font-size: 0.9em;">Use mosquito repellent, especially at dawn/dusk</span>
                        </div>
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <span>ğŸ‘•</span>
                            <span style="font-size: 0.9em;">Dress modestly when visiting temples</span>
                        </div>
                        <div style="display: flex; align-items: flex-start; gap: 10px;">
                            <span>ğŸ’°</span>
                            <span style="font-size: 0.9em;">USD widely accepted, small bills recommended</span>
                        </div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #fdcb6e, #e17055); color: white; padding: 25px; border-radius: 20px; box-shadow: 0 8px 25px rgba(253, 203, 110, 0.4);">
                    <h3 style="margin-bottom: 20px;">ğŸ“± Connectivity Info</h3>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <div>
                            <div style="font-weight: bold; margin-bottom: 8px;">ğŸ“¶ Network Coverage</div>
                            <div>4G: Excellent in cities<br>3G: Good in rural areas</div>
                        </div>
                        <div>
                            <div style="font-weight: bold; margin-bottom: 8px;">ğŸŒ WiFi Availability</div>
                            <div>Hotels: â˜…â˜…â˜…â˜…â˜…<br>Cafes: â˜…â˜…â˜…â˜…â˜†<br>Public: â˜…â˜…â˜…â˜†â˜†</div>
                        </div>
                        <div>
                            <div style="font-weight: bold; margin-bottom: 8px;">ğŸ“ Local SIM Cards</div>
                            <div style="font-size: 0.9em;">Available at airport, shops<br>Major operators: Cellcard, Smart, Metfone</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button class="floating-action" onclick="emergencyAction()" title="Emergency Action">
        ğŸš¨
    </button>

    <script>
        let userLocation = { lat: null, lng: null, accuracy: null };
        let currentTipPercentage = 15;

        // Initialize particles
        function createParticles() {
            const container = document.querySelector('.floating-particles');
            for (let i = 0; i < 15; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                container.appendChild(particle);
            }
        }

        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => button.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function shareLocation() {
            if (userLocation.lat && userLocation.lng) {
                const message = `ğŸš¨ EMERGENCY LOCATION ğŸš¨\nMy current position:\nğŸ“ https://maps.google.com/maps?q=${userLocation.lat},${userLocation.lng}\n\nCoordinates:\nLat: ${userLocation.lat.toFixed(6)}\nLng: ${userLocation.lng.toFixed(6)}\nAccuracy: Â±${userLocation.accuracy}m\n\nSent from Tourism Companion App\nTime: ${new Date().toLocaleString()}`;
                const phoneNumber = '0716145925';
                
                const smsUrl = `sms:${phoneNumber}?body=${encodeURIComponent(message)}`;
                window.open(smsUrl, '_blank');
                
                alert(`ğŸ“± Location shared to ${phoneNumber}!\n\nğŸ“ Coordinates: ${userLocation.lat.toFixed(6)}, ${userLocation.lng.toFixed(6)}\nâš¡ Accuracy: Â±${userLocation.accuracy}m`);
            } else {
                alert('ğŸ“ Getting your location... Please wait a moment and try again.');
                getCurrentLocation();
            }
        }

        function getCurrentLocation() {
            const locationElement = document.getElementById('current-location');
            const latElement = document.getElementById('lat');
            const lngElement = document.getElementById('lng');
            const accuracyElement = document.getElementById('accuracy');
            const lastUpdateElement = document.getElementById('last-update');

            if (navigator.geolocation) {
                locationElement.textContent = 'ğŸ“¡ Detecting your location...';
                
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        userLocation.lat = position.coords.latitude;
                        userLocation.lng = position.coords.longitude;
                        userLocation.accuracy = Math.round(position.coords.accuracy);

                        locationElement.textContent = `ğŸ“ Located in Phnom Penh, Cambodia`;
                        latElement.textContent = userLocation.lat.toFixed(6);
                        lngElement.textContent = userLocation.lng.toFixed(6);
                        accuracyElement.textContent = `Â±${userLocation.accuracy}m`;
                        lastUpdateElement.textContent = new Date().toLocaleTimeString();

                        updateGPSSignal('Strong');
                        updateNearbyPlaces();
                    },
                    function(error) {
                        // Fallback to Phnom Penh coordinates
                        userLocation.lat = 11.5564;
                        userLocation.lng = 104.9282;
                        userLocation.accuracy = 100;

                        locationElement.textContent = 'ğŸ“ Phnom Penh, Cambodia (approximate)';
                        latElement.textContent = userLocation.lat.toFixed(6);
                        lngElement.textContent = userLocation.lng.toFixed(6);
                        accuracyElement.textContent = 'Â±100m (estimated)';
                        lastUpdateElement.textContent = new Date().toLocaleTimeString();

                        updateGPSSignal('Weak');
                        console.log('Location error: ', error.message);
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 300000
                    }
                );
            } else {
                // Fallback for browsers without geolocation
                userLocation.lat = 11.5564;
                userLocation.lng = 104.9282;
                userLocation.accuracy = 1000;

                locationElement.textContent = 'ğŸ“ Phnom Penh, Cambodia (default)';
                latElement.textContent = userLocation.lat.toFixed(6);
                lngElement.textContent = userLocation.lng.toFixed(6);
                accuracyElement.textContent = 'Â±1000m (estimated)';
                lastUpdateElement.textContent = new Date().toLocaleTimeString();
                updateGPSSignal('No GPS');
            }
        }

        function updateGPSSignal(strength) {
            const signalElement = document.getElementById('gps-signal');
            if (signalElement) {
                signalElement.textContent = strength;
                signalElement.style.color = strength === 'Strong' ? '#2ecc71' : strength === 'Weak' ? '#f39c12' : '#e74c3c';
            }
        }

        function updateNearbyPlaces() {
            console.log('Updated nearby places based on location:', userLocation);
        }

        function updateTime() {
            const timeElement = document.getElementById('local-time');
            if (timeElement) {
                const now = new Date();
                timeElement.textContent = now.toLocaleTimeString('en-US', {
                    timeZone: 'Asia/Phnom_Penh',
                    hour12: false
                });
            }
        }

        function updateBattery() {
            if ('getBattery' in navigator) {
                navigator.getBattery().then(function(battery) {
                    const level = Math.round(battery.level * 100);
                    const batteryElement = document.getElementById('battery-level');
                    if (batteryElement) {
                        batteryElement.textContent = level + '%';
                    }
                });
            }
        }

        // Interactive functions
        function findNearestHospital() {
            alert('ğŸ¥ Nearest Hospital: Royal Phnom Penh Hospital\nğŸ“ Distance: 1.2km (15 min walk)\nğŸ“ Phone: +855 23 991 000\n\nOpening directions...');
            // In a real app, this would open maps
        }

        function callEmergency() {
            if (confirm('ğŸš¨ Call Emergency Services?\n\nThis will dial 119 (Medical Emergency)')) {
                window.location.href = 'tel:119';
            }
        }

        function translateText() {
            const text = prompt('Enter English text to translate to Khmer:');
            if (text) {
                // Simulated translation
                alert(`ğŸ”„ Translation:\n\nEnglish: "${text}"\nKhmer: [Translated text would appear here]\n\nNote: This is offline translation`);
            }
        }

        function centerMap() {
            alert('ğŸ—ºï¸ Centering map on your location...\nğŸ“ ' + userLocation.lat.toFixed(6) + ', ' + userLocation.lng.toFixed(6));
        }

        function toggleSatellite() {
            alert('ğŸ›°ï¸ Switching to satellite view...\nNote: Offline satellite imagery loaded');
        }

        function showTraffic() {
            alert('ğŸš¦ Traffic layer enabled\n\nğŸŸ¢ Light traffic on most roads\nğŸŸ¡ Moderate traffic in city center\nâ° Rush hour: 7-9AM, 5-7PM');
        }

        function searchNearby() {
            const query = prompt('ğŸ” Search for nearby places:');
            if (query) {
                alert(`ğŸ” Searching for "${query}" near your location...\n\nFound 3 results within 2km`);
            }
        }

        function navigateToPlace(type) {
            const places = {
                hotel: 'Grand Hotel Cambodia',
                hospital: 'Royal Phnom Penh Hospital',
                restaurant: 'Friends Restaurant',
                atm: 'ABA Bank ATM',
                gas: 'Caltex Fuel Station',
                store: 'Lucky Supermarket'
            };
            alert(`ğŸ§­ Getting directions to ${places[type]}...\nğŸ“ Opening navigation...`);
        }

        function callPlace(number) {
            if (confirm(`ğŸ“ Call ${number}?`)) {
                window.location.href = `tel:${number}`;
            }
        }

        function getDirections(place) {
            alert(`ğŸ§­ Getting directions to ${place}...\nğŸ“ Route calculated\nâ±ï¸ Estimated arrival in 8-15 minutes`);
        }

        function savePlace(place) {
            alert(`â¤ï¸ ${place} saved to favorites!\nâœ… Added to your saved places`);
        }

        function viewMenu() {
            alert('ğŸ“‹ Restaurant Menu:\n\nğŸœ Khmer dishes: $3-8\nğŸ• International: $5-12\nğŸº Beverages: $1-3\n\nFull menu available at location');
        }

        function checkFees() {
            alert('ğŸ’° ATM Fees:\n\nğŸ’³ International cards: $5\nğŸ¦ Local banks: Free\nğŸ’µ Daily limit: $500\nâ° Available 24/7');
        }

        function findMoreAtms() {
            alert('ğŸ” Nearby ATMs:\n\nğŸ§ ABA Bank - 0.3km\nğŸ§ ACLEDA Bank - 0.6km\nğŸ§ Canadia Bank - 0.8km\nğŸ§ ANZ Royal - 1.2km');
        }

        function checkPrices() {
            alert('ğŸ’µ Fuel Prices:\n\nâ›½ Regular: $1.20/L\nâ›½ Premium: $1.35/L\nâ›½ Diesel: $1.15/L\nğŸ“… Updated today');
        }

        function viewHours() {
            alert('ğŸ•’ Store Hours:\n\nğŸ“… Monday-Sunday: 6:00 AM - 10:00 PM\nğŸ‰ Holidays: 8:00 AM - 8:00 PM\nğŸ“ Phone: +855 23 xxx-xxx');
        }

        function playAudio(phraseId) {
            // Simulate audio playback
            alert('ğŸ”Š Playing audio pronunciation...\n\n(In a full app, this would play actual audio)');
        }

        function callEmergencyService(number) {
            if (confirm(`ğŸš¨ Call Emergency Service ${number}?`)) {
                window.location.href = `tel:${number}`;
            }
        }

        function showTouristPolice() {
            alert('ğŸ›¡ï¸ Tourist Police Information:\n\nğŸ“ Phone: 012 942 484\nğŸ•’ Hours: 7:00 AM - 7:00 PM\nğŸ—£ï¸ English speaking officers\nğŸ“ Available citywide');
        }

        function showTrafficPolice() {
            alert('ğŸš¦ Traffic Police:\n\nğŸ“ Emergency: 012 999 999\nğŸš— Accident reports\nğŸ“‹ License issues\nâ° 24/7 availability');
        }

        function callEmbassy(number) {
            if (confirm(`ğŸ“ Call embassy at ${number}?`)) {
                window.location.href = `tel:${number}`;
            }
        }

        function viewServices(country) {
            const services = {
                us: 'Passport services, citizen assistance, notarial services, emergency support',
                uk: 'British citizen services, passport renewal, emergency travel documents',
                france: 'French citizen assistance, consular services, legal support',
                germany: 'German citizen services, visa information, business support',
                australia: 'Australian citizen assistance, passport services, emergency support',
                japan: 'Japanese citizen services, business relations, cultural exchange',
                canada: 'Canadian citizen services, trade support, emergency assistance',
                korea: 'Korean citizen assistance, business relations, cultural programs'
            };
            alert(`ğŸ“‹ ${country.toUpperCase()} Embassy Services:\n\n${services[country] || 'General consular services available'}`);
        }

        // Converter functions
        function convertCurrency(type) {
            const rate = 4100; // 1 USD = 4100 KHR
            const usdInput = document.getElementById('usd-input');
            const khrInput = document.getElementById('khr-input');
            
            if (type === 'usd') {
                const usd = parseFloat(usdInput.value) || 0;
                khrInput.value = Math.round(usd * rate);
            } else {
                const khr = parseFloat(khrInput.value) || 0;
                usdInput.value = (khr / rate).toFixed(2);
            }
        }

        function convertTemperature(type) {
            const celsiusInput = document.getElementById('celsius-input');
            const fahrenheitInput = document.getElementById('fahrenheit-input');
            
            if (type === 'c') {
                const celsius = parseFloat(celsiusInput.value) || 0;
                fahrenheitInput.value = ((celsius * 9/5) + 32).toFixed(1);
            } else {
                const fahrenheit = parseFloat(fahrenheitInput.value) || 0;
                celsiusInput.value = ((fahrenheit - 32) * 5/9).toFixed(1);
            }
        }

        function convertDistance(type) {
            const kmInput = document.getElementById('km-input');
            const milesInput = document.getElementById('miles-input');
            
            if (type === 'km') {
                const km = parseFloat(kmInput.value) || 0;
                milesInput.value = (km * 0.621371).toFixed(2);
            } else {
                const miles = parseFloat(milesInput.value) || 0;
                kmInput.value = (miles / 0.621371).toFixed(2);
            }
        }

        function saveNotes() {
            const notes = document.getElementById('notes-area').value;
            if (notes.trim()) {
                alert('ğŸ’¾ Notes saved successfully!\n\nâœ… Your travel notes have been stored locally');
            } else {
                alert('ğŸ“ Please write something in the notepad first');
            }
        }

        function clearNotes() {
            if (confirm('ğŸ—‘ï¸ Clear all notes?\n\nThis action cannot be undone.')) {
                document.getElementById('notes-area').value = '';
                alert('âœ… Notepad cleared');
            }
        }

        function shareNotes() {
            const notes = document.getElementById('notes-area').value;
            if (notes.trim()) {
                const message = `ğŸ“ My Travel Notes:\n\n${notes}\n\nShared from Tourism Companion App`;
                const smsUrl = `sms:?body=${encodeURIComponent(message)}`;
                window.open(smsUrl, '_blank');
            } else {
                alert('ğŸ“ Please write something in the notepad first');
            }
        }

        function calculateTip() {
            const billAmount = parseFloat(document.getElementById('bill-amount').value) || 0;
            const tipAmount = (billAmount * currentTipPercentage / 100);
            const total = billAmount + tipAmount;
            
            document.getElementById('tip-result').innerHTML = `
                <p>Tip (${currentTipPercentage}%): ${tipAmount.toFixed(2)}</p>
                <p><strong>Total: ${total.toFixed(2)}</strong></p>
            `;
        }

        function setTip(percentage) {
            currentTipPercentage = percentage;
            // Remove active state from all tip buttons
            document.querySelectorAll('.tip-btn').forEach(btn => {
                btn.style.background = 'rgba(255,255,255,0.2)';
            });
            // Set active state for selected button
            event.target.style.background = 'rgba(255,255,255,0.4)';
            calculateTip();
        }

        function callService(service) {
            const services = {
                taxi: '+855-23-888-888',
                delivery: '+855-23-999-000',
                'tourist-info': '+855-23-724-059',
                airport: '+855-23-890-890'
            };
            if (confirm(`ğŸ“ Call ${services[service]}?`)) {
                window.location.href = `tel:${services[service]}`;
            }
        }

        function translateToKhmer() {
            const input = document.getElementById('translate-input').value;
            if (input.trim()) {
                // Simulated translation
                const translations = {
                    'hello': 'á‡áŸ†ášá¶á”áŸá½áš (Chomreab suor)',
                    'thank you': 'á¢ášá‚á»á (Orkun)',
                    'how much': 'á”áŸ‰á»á“áŸ’á˜á¶á“? (Ponman?)',
                    'where is': 'á“áŸ…á¯áá¶? (Nov ei na?)',
                    'help me': 'á‡á½á™ááŸ’á‰á»áŸ†á•á„ (Chuoy khnhom phong)',
                    'i need': 'ááŸ’á‰á»áŸ†ááŸ’ášá¼áœá€á¶áš (Khnhom trov kar)',
                    'excuse me': 'áŸá»áŸ†á‘áŸ„áŸ (Som tos)',
                    'please': 'áŸá¼á˜ (Som)'
                };
                
                let result = 'Translation not found in offline dictionary.';
                const lowerInput = input.toLowerCase();
                
                for (const [eng, khmer] of Object.entries(translations)) {
                    if (lowerInput.includes(eng)) {
                        result = khmer;
                        break;
                    }
                }
                
                document.getElementById('translation-result').textContent = result;
            } else {
                alert('Please enter some text to translate');
            }
        }

        function emergencyAction() {
            const action = confirm('ğŸš¨ EMERGENCY ACTION\n\nChoose your emergency action:\n\nOK = Share Location to 0716145925\nCancel = Call Emergency Services');
            
            if (action) {
                shareLocation();
            } else {
                if (confirm('Call which emergency service?\n\nOK = Medical (119)\nCancel = Police (117)')) {
                    window.location.href = 'tel:119';
                } else {
                    window.location.href = 'tel:117';
                }
            }
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            getCurrentLocation();
            updateTime();
            updateBattery();
            
            // Update time every second
            setInterval(updateTime, 1000);
            
            // Update battery every minute
            setInterval(updateBattery, 60000);
            
            // Update location every 5 minutes
            setInterval(getCurrentLocation, 300000);
            
            console.log('ğŸŒŸ Premium Tourism Companion initialized successfully!');
            console.log('âœ… Offline functionality ready');
            console.log('ğŸ“± All essential data cached for offline use');
        });

        // Handle page visibility change
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                getCurrentLocation();
                updateTime();
                updateBattery();
            }
        });

        // Handle device orientation change
        window.addEventListener('orientationchange', function() {
            setTimeout(function() {
                getCurrentLocation();
            }, 500);
        });
    </script>
</body>
</html>